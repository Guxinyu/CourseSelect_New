  [1m[36m (30.1ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (136.6ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[35m (1.0ms)[0m  CREATE DATABASE "courseselect_test" ENCODING = 'unicode'
  [1m[36m (0.3ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (5036.5ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (5051.7ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (132.0ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE "courseselect_test" ENCODING = 'unicode'
  [1m[36m (108.6ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[35m (0.5ms)[0m  CREATE DATABASE "courseselect_test" ENCODING = 'unicode'
  [1m[36m (114.1ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[35m (0.9ms)[0m  CREATE DATABASE "courseselect_test" ENCODING = 'unicode'
  [1m[36m (0.4ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (59.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (5.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160818081955)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "num" character varying, "major" character varying, "department" character varying, "password_digest" character varying, "remember_digest" character varying, "admin" boolean DEFAULT 'f', "teacher" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (5.0ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160818081955"]]
  [1m[35m (1.9ms)[0m  COMMIT
Migrating to CreateCourses (20160907152104)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "courses" ("id" serial primary key, "name" character varying, "course_code" character varying, "course_type" character varying, "teaching_type" character varying, "exam_type" character varying, "credit" character varying, "limit_num" integer, "student_num" integer DEFAULT 0, "class_room" character varying, "course_time" character varying, "course_week" character varying, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160907152104"]]
  [1m[35m (3.2ms)[0m  COMMIT
Migrating to CreateGrades (20160909105514)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE "grades" ("id" serial primary key, "course_id" integer, "user_id" integer, "grade" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (6.0ms)[0m  [1mCREATE  INDEX  "index_grades_on_course_id" ON "grades"  ("course_id")[0m
  [1m[35m (4.6ms)[0m  CREATE  INDEX  "index_grades_on_user_id" ON "grades"  ("user_id")
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160909105514"]]
  [1m[35m (1.6ms)[0m  COMMIT
Migrating to AddCourseAttribute (20161109084337)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (38.0ms)[0m  ALTER TABLE "courses" ADD "open" boolean DEFAULT 'f'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20161109084337"]]
  [1m[35m (2.7ms)[0m  COMMIT
Migrating to AddTestToCourses (20171207110343)
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "courses" ADD "test" character varying
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171207110343"]]
  [1m[35m (1.1ms)[0m  COMMIT
Migrating to AddDegreeToGrades (20171213090147)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35m (7.7ms)[0m  ALTER TABLE "grades" ADD "degree" character varying
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171213090147"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to CreateEvaluations (20171220093830)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.4ms)[0m  CREATE TABLE "evaluations" ("id" serial primary key, "item" integer, "score" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093830"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddUserRefToEvaluations (20171220093900)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "evaluations" ADD "user_id" integer
  [1m[36m (2.4ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_user_id" ON "evaluations"  ("user_id")[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_ef42eba623"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")

  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093900"]]
  [1m[35m (1.2ms)[0m  COMMIT
Migrating to AddCourseRefToEvaluations (20171220093913)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "evaluations" ADD "course_id" integer
  [1m[36m (2.2ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_course_id" ON "evaluations"  ("course_id")[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_b85f1dd897"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("id")

  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093913"]]
  [1m[35m (1.8ms)[0m  COMMIT
Migrating to AddIsOpenToCourses (20171220093959)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "courses" ADD "isopen" character varying
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093959"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to CreateNotices (20171220144005)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (8.6ms)[0m  CREATE TABLE "notices" ("id" serial primary key, "theme" character varying, "content" character varying, "publish_time" character varying, "course_name" character varying, "course_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220144005"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to CreateEvaluationitems (20180110020850)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "evaluationitems" ("id" serial primary key, "itemcontent" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20180110020850"]]
  [1m[35m (0.7ms)[0m  COMMIT
Migrating to AddEvaluationitemRefToEvaluations (20180110122608)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "evaluations" ADD "evaluationitem_id" integer
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_evaluationitem_id" ON "evaluations"  ("evaluationitem_id")[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_8a6afa6f14"
FOREIGN KEY ("evaluationitem_id")
  REFERENCES "evaluationitems" ("id")

  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20180110122608"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'courses'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.8ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'evaluationitems'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'evaluations'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'grades'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.0ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (12.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 12:49:22', '2018-01-12 12:49:22', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 12:49:22', '2018-01-12 12:49:22', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 12:49:22', '2018-01-12 12:49:22', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 12:49:22', '2018-01-12 12:49:22', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 12:49:22', '2018-01-12 12:49:22', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 12:49:22', '2018-01-12 12:49:22', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 12:49:22', '2018-01-12 12:49:22', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 12:49:22', '2018-01-12 12:49:22', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$BS0NfbCG/hHxXbgZkjzKv.But5X6TdoGHi3H34CFG4KAnBP9Jkiee', '2018-01-12 12:49:22', '2018-01-12 12:49:22', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-12 20:49:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (23.2ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13300ms (Views: 13281.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-12 20:49:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-12 20:49:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (7.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$cL51OGTlc9ePHZJPaJloiuz/wHvNlH4.KGk1xfYiUV6/oo0Zp.No6"], ["created_at", "2018-01-12 12:49:36.502263"], ["updated_at", "2018-01-12 12:49:36.502263"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-12 20:49:37 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 13:41:15', '2018-01-12 13:41:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 13:41:15', '2018-01-12 13:41:15', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 13:41:15', '2018-01-12 13:41:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 13:41:15', '2018-01-12 13:41:15', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 13:41:15', '2018-01-12 13:41:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 13:41:15', '2018-01-12 13:41:15', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 13:41:15', '2018-01-12 13:41:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 13:41:15', '2018-01-12 13:41:15', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$HN7yNkwSRHTQjwCsT1PPke7ILJpt686jdZLnUP0OXzJsM9QjAKAaG', '2018-01-12 13:41:15', '2018-01-12 13:41:15', 751813785)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$9p6Jxz6urtng3MpgIvxB/O.oafEOGjdzmk/P/mydG9xBuNAvdRwoO"], ["created_at", "2018-01-12 13:41:15.642487"], ["updated_at", "2018-01-12 13:41:15.642487"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (1.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-12 21:41:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (352.3ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 387ms (Views: 379.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-12 21:41:16 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-12 21:41:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 2.9ms)
Started GET "/" for 127.0.0.1 at 2018-01-12 21:41:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 13:41:31', '2018-01-12 13:41:31', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-12 13:41:31', '2018-01-12 13:41:31', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 13:41:31', '2018-01-12 13:41:31', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-12 13:41:31', '2018-01-12 13:41:31', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 13:41:31', '2018-01-12 13:41:31', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-12 13:41:31', '2018-01-12 13:41:31', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 13:41:31', '2018-01-12 13:41:31', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-12 13:41:31', '2018-01-12 13:41:31', 298486374)
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ZPqsZaZWBwACwHKx1zawveF2Oal3kolrYNKzG6Ra4D98ebxEZ57nO', '2018-01-12 13:41:31', '2018-01-12 13:41:31', 751813785)
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-12 21:41:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 324ms (Views: 316.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-12 21:41:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-12 21:41:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Cb6Lle6hzRkpbqKi6apSdOQ9ELnDSxNvTi5oH1geQn4d/lO/4dhAS"], ["created_at", "2018-01-12 13:41:32.547203"], ["updated_at", "2018-01-12 13:41:32.547203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-12 21:41:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (14.0ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (104.7ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE "courseselect_test" ENCODING = 'unicode'
  [1m[36m (0.3ms)[0m  [1mDROP DATABASE IF EXISTS "courseselect_test"[0m
  [1m[36m (29.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20160818081955)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "num" character varying, "major" character varying, "department" character varying, "password_digest" character varying, "remember_digest" character varying, "admin" boolean DEFAULT 'f', "teacher" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160818081955"]]
  [1m[35m (4.6ms)[0m  COMMIT
Migrating to CreateCourses (20160907152104)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "courses" ("id" serial primary key, "name" character varying, "course_code" character varying, "course_type" character varying, "teaching_type" character varying, "exam_type" character varying, "credit" character varying, "limit_num" integer, "student_num" integer DEFAULT 0, "class_room" character varying, "course_time" character varying, "course_week" character varying, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160907152104"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to CreateGrades (20160909105514)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "grades" ("id" serial primary key, "course_id" integer, "user_id" integer, "grade" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (2.3ms)[0m  [1mCREATE  INDEX  "index_grades_on_course_id" ON "grades"  ("course_id")[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX  "index_grades_on_user_id" ON "grades"  ("user_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20160909105514"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddCourseAttribute (20161109084337)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (6.4ms)[0m  ALTER TABLE "courses" ADD "open" boolean DEFAULT 'f'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20161109084337"]]
  [1m[35m (0.6ms)[0m  COMMIT
Migrating to AddTestToCourses (20171207110343)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "courses" ADD "test" character varying
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171207110343"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to AddDegreeToGrades (20171213090147)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (4.4ms)[0m  ALTER TABLE "grades" ADD "degree" character varying
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171213090147"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to CreateEvaluations (20171220093830)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "evaluations" ("id" serial primary key, "item" integer, "score" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093830"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddUserRefToEvaluations (20171220093900)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "evaluations" ADD "user_id" integer
  [1m[36m (2.5ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_user_id" ON "evaluations"  ("user_id")[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_ef42eba623"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")

  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093900"]]
  [1m[35m (1.0ms)[0m  COMMIT
Migrating to AddCourseRefToEvaluations (20171220093913)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "evaluations" ADD "course_id" integer
  [1m[36m (1.5ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_course_id" ON "evaluations"  ("course_id")[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_b85f1dd897"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("id")

  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093913"]]
  [1m[35m (0.8ms)[0m  COMMIT
Migrating to AddIsOpenToCourses (20171220093959)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "courses" ADD "isopen" character varying
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220093959"]]
  [1m[35m (0.5ms)[0m  COMMIT
Migrating to CreateNotices (20171220144005)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (10.4ms)[0m  CREATE TABLE "notices" ("id" serial primary key, "theme" character varying, "content" character varying, "publish_time" character varying, "course_name" character varying, "course_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20171220144005"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to CreateEvaluationitems (20180110020850)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (10.2ms)[0m  CREATE TABLE "evaluationitems" ("id" serial primary key, "itemcontent" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20180110020850"]]
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddEvaluationitemRefToEvaluations (20180110122608)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "evaluations" ADD "evaluationitem_id" integer
  [1m[36m (6.3ms)[0m  [1mCREATE  INDEX  "index_evaluations_on_evaluationitem_id" ON "evaluations"  ("evaluationitem_id")[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "evaluations" ADD CONSTRAINT "fk_rails_8a6afa6f14"
FOREIGN KEY ("evaluationitem_id")
  REFERENCES "evaluationitems" ("id")

  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20180110122608"]]
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'courses'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'evaluationitems'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'evaluations'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.6ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'grades'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.6ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-13 11:58:24', '2018-01-13 11:58:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-13 11:58:24', '2018-01-13 11:58:24', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-13 11:58:24', '2018-01-13 11:58:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-13 11:58:24', '2018-01-13 11:58:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-13 11:58:24', '2018-01-13 11:58:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-13 11:58:24', '2018-01-13 11:58:24', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-13 11:58:24', '2018-01-13 11:58:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-13 11:58:24', '2018-01-13 11:58:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$410BCXE2Tkc9FmqJGHzw8er9U2eV7Mj.gz6ZoUpCjuQWRUH56Jjb.', '2018-01-13 11:58:24', '2018-01-13 11:58:24', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-13 19:58:24 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (42.9ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 1937ms (Views: 1924.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-13 19:58:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 1.2ms)
Started GET "/" for 127.0.0.1 at 2018-01-13 19:58:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 38.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$AdyBSjQJevI7Bu0JWsbF1.ps9QIiQQHbbLETjPzMcuJX7ez8SQkL6"], ["created_at", "2018-01-13 11:58:27.779939"], ["updated_at", "2018-01-13 11:58:27.779939"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-13 19:58:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (38.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (91.9ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (13.1ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (57.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (13.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:49:57', '2018-01-14 04:49:57', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:49:57', '2018-01-14 04:49:57', 298486374)[0m
  [1m[35mFixture Delete (3.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:49:58', '2018-01-14 04:49:58', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:49:58', '2018-01-14 04:49:58', 298486374)
  [1m[36mFixture Delete (9.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:49:58', '2018-01-14 04:49:58', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:49:58', '2018-01-14 04:49:58', 298486374)[0m
  [1m[35mFixture Delete (2.0ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:49:58', '2018-01-14 04:49:58', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:49:58', '2018-01-14 04:49:58', 298486374)
  [1m[36mFixture Delete (5.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$3tdN5j9HkXlMmScufyE7geApCQC.7YdWU1tZB6Rm82aNWqR0exTRy', '2018-01-14 04:49:58', '2018-01-14 04:49:58', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:49:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3567.3ms)
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3678ms (Views: 3661.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (6.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JIwjv25pd0m8OLkCtJJoEOEveZaQv3/SHgL9V7gahV2IboO2Y.lE2"], ["created_at", "2018-01-14 04:50:01.936963"], ["updated_at", "2018-01-14 04:50:01.936963"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:50:02 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (23.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:50:02 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:50:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (17.1ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:52:08', '2018-01-14 04:52:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:52:08', '2018-01-14 04:52:08', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:52:08', '2018-01-14 04:52:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:52:08', '2018-01-14 04:52:08', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:52:08', '2018-01-14 04:52:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:52:08', '2018-01-14 04:52:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:52:08', '2018-01-14 04:52:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:52:08', '2018-01-14 04:52:08', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$t5Zt1M2xmaJRW8yJLTOXcuCaJ3kNTNzpSn5Zri.Udoxs0B5zfnhM6', '2018-01-14 04:52:08', '2018-01-14 04:52:08', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:52:08 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 1725ms (Views: 1718.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:52:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:52:10 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:52:10 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Skr/MuJOL/8gfKds0kcqV.KOi.ZeNLQ1PLyEC5YsGJ7OooYjgqJ8."], ["created_at", "2018-01-14 04:52:10.327973"], ["updated_at", "2018-01-14 04:52:10.327973"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:53:03', '2018-01-14 04:53:03', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:53:03', '2018-01-14 04:53:03', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:53:03', '2018-01-14 04:53:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:53:03', '2018-01-14 04:53:03', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:53:03', '2018-01-14 04:53:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:53:03', '2018-01-14 04:53:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:53:03', '2018-01-14 04:53:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:53:03', '2018-01-14 04:53:03', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$655jmB8XxNi8uR.BAR.gy.u.9cj6ribGd0QpUytNgvPSzijGxFfEG', '2018-01-14 04:53:03', '2018-01-14 04:53:03', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:53:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 268ms (Views: 261.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:53:03 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:53:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ARwje6epWuqq1OBquyrde.n.LIlhzk11TVa5h88oLSt5/BrdjBTM6"], ["created_at", "2018-01-14 04:53:04.381068"], ["updated_at", "2018-01-14 04:53:04.381068"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:53:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:53:46', '2018-01-14 04:53:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:53:46', '2018-01-14 04:53:46', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:53:46', '2018-01-14 04:53:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:53:46', '2018-01-14 04:53:46', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:53:46', '2018-01-14 04:53:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:53:46', '2018-01-14 04:53:46', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:53:46', '2018-01-14 04:53:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:53:46', '2018-01-14 04:53:46', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$dMeo52s79MRtsu6myssI6.c5KkuUVwCnXUso3IplifBf4IwoGXbom', '2018-01-14 04:53:46', '2018-01-14 04:53:46', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:53:46 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 243ms (Views: 236.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:53:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:53:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$q8EkRgb5g0bb5YZYKApnyOe6709lDKM.vFz8txHONMgN7hJ.4P952"], ["created_at", "2018-01-14 04:53:46.839805"], ["updated_at", "2018-01-14 04:53:46.839805"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:53:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:54:35', '2018-01-14 04:54:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:54:35', '2018-01-14 04:54:35', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:54:35', '2018-01-14 04:54:35', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:54:35', '2018-01-14 04:54:35', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:54:35', '2018-01-14 04:54:35', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:54:35', '2018-01-14 04:54:35', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:54:35', '2018-01-14 04:54:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:54:35', '2018-01-14 04:54:35', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$lc.JHhZSsIlmWRKXht9aZubvJPzfTndqZ78z1C.hXlv26XVL8buSa', '2018-01-14 04:54:35', '2018-01-14 04:54:35', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$p/TqStlXm1EAZoXC8E7gw.8qL3DfCvapxvldRlpBfPqn.Ut.pog.K"], ["created_at", "2018-01-14 04:54:35.470760"], ["updated_at", "2018-01-14 04:54:35.470760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:54:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (289.2ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 313ms (Views: 305.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:54:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:54:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:54:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:55:28', '2018-01-14 04:55:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:55:28', '2018-01-14 04:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:55:28', '2018-01-14 04:55:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:55:28', '2018-01-14 04:55:28', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:55:28', '2018-01-14 04:55:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:55:28', '2018-01-14 04:55:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:55:28', '2018-01-14 04:55:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:55:28', '2018-01-14 04:55:28', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ekvocFD8XU1hUMmlEHFase2BcSNg0m.BVqcaoKgCRy6NKXralSBx2', '2018-01-14 04:55:28', '2018-01-14 04:55:28', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$QdJr0Kh7IS/j2LvwwKI0deddn6wS0cDUZcyBWEgnb8gucakM8SriC"], ["created_at", "2018-01-14 04:55:28.751523"], ["updated_at", "2018-01-14 04:55:28.751523"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:55:28 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 315ms (Views: 307.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:55:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:55:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:55:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:57:03', '2018-01-14 04:57:03', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:57:03', '2018-01-14 04:57:03', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:57:03', '2018-01-14 04:57:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:57:03', '2018-01-14 04:57:03', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:57:03', '2018-01-14 04:57:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:57:03', '2018-01-14 04:57:03', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:57:03', '2018-01-14 04:57:03', 980190962)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:57:03', '2018-01-14 04:57:03', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$QCk1o5oBc1rawCSJsuL.mewPxJYbjo3ijCEi2yHVRPfbO8BFuDGCK', '2018-01-14 04:57:03', '2018-01-14 04:57:03', 751813785)
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$4OlIwlGxXvaDWbrWOUfsCe5qevveqbhJO7lybfIZ6R5027kAaHrxW"], ["created_at", "2018-01-14 04:57:03.516359"], ["updated_at", "2018-01-14 04:57:03.516359"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:57:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (12.2ms)
  Rendered layouts/_content.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 486ms (Views: 478.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:57:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:57:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:57:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (7.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:57:22', '2018-01-14 04:57:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:57:22', '2018-01-14 04:57:22', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:57:22', '2018-01-14 04:57:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:57:22', '2018-01-14 04:57:22', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:57:22', '2018-01-14 04:57:22', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:57:22', '2018-01-14 04:57:22', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:57:22', '2018-01-14 04:57:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:57:22', '2018-01-14 04:57:22', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$kFPCWsR3CGLaDnZdDxj6DurlVGMDUf0HcOQGbXusU.DTVUZ0obVmW', '2018-01-14 04:57:22', '2018-01-14 04:57:22', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:57:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 237ms (Views: 230.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:57:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:57:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:57:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$G51l0FM77dwNAbyZ4s5Kp.Hhqw3zlh4SN/wuMm./2wU1DmLFjuI8G"], ["created_at", "2018-01-14 04:57:23.171054"], ["updated_at", "2018-01-14 04:57:23.171054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:58:29', '2018-01-14 04:58:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:58:29', '2018-01-14 04:58:29', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:58:29', '2018-01-14 04:58:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:58:29', '2018-01-14 04:58:29', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:58:29', '2018-01-14 04:58:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:58:29', '2018-01-14 04:58:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:58:29', '2018-01-14 04:58:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:58:29', '2018-01-14 04:58:29', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$xIm8xwQJ9jdv5H7pesNMZuBKOKud6tBOBSEyelkytGIOo4sQS3x5G', '2018-01-14 04:58:29', '2018-01-14 04:58:29', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$QtFUn04UeYXx8iJvoRWl1.2N6q.slbXkKOEGwYpPZFLQkyacHLN9K"], ["created_at", "2018-01-14 04:58:30.343477"], ["updated_at", "2018-01-14 04:58:30.343477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:58:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (271.1ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 294ms (Views: 287.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:58:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:58:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:58:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:59:50', '2018-01-14 04:59:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 04:59:50', '2018-01-14 04:59:50', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:59:50', '2018-01-14 04:59:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 04:59:50', '2018-01-14 04:59:50', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:59:50', '2018-01-14 04:59:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 04:59:50', '2018-01-14 04:59:50', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:59:50', '2018-01-14 04:59:50', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 04:59:50', '2018-01-14 04:59:50', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$VOMxdi9Ogsa32G4SJYKVSOn/1KWvdBq1COvHb0jJzv63xvpWXamva', '2018-01-14 04:59:50', '2018-01-14 04:59:50', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 12:59:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 364ms (Views: 357.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 12:59:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 12:59:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$vs3xuyFMP64hEk/tRpeXGOEl1rvyl5CXhjzRkMOzdfPXEDzgI0T72"], ["created_at", "2018-01-14 04:59:51.487451"], ["updated_at", "2018-01-14 04:59:51.487451"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 12:59:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:00:28', '2018-01-14 05:00:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:00:28', '2018-01-14 05:00:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:00:28', '2018-01-14 05:00:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:00:28', '2018-01-14 05:00:28', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:00:28', '2018-01-14 05:00:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:00:28', '2018-01-14 05:00:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:00:28', '2018-01-14 05:00:28', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:00:28', '2018-01-14 05:00:28', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$sJo8MFyWx8AI83ICsdik/eOahW.NpBJaormIRI/e.QT0xmLKhjuMW', '2018-01-14 05:00:28', '2018-01-14 05:00:28', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:00:28 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 258ms (Views: 251.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:00:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:00:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/YCObSdZDCKRcJ5HmM9b1OEhct1MQQBjnzUd5nnpoKKgU8aLao.f2"], ["created_at", "2018-01-14 05:00:29.534122"], ["updated_at", "2018-01-14 05:00:29.534122"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:00:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:05:54', '2018-01-14 05:05:54', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:05:54', '2018-01-14 05:05:54', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:05:54', '2018-01-14 05:05:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:05:54', '2018-01-14 05:05:54', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:05:54', '2018-01-14 05:05:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:05:54', '2018-01-14 05:05:54', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:05:54', '2018-01-14 05:05:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:05:54', '2018-01-14 05:05:54', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$R5gnIS0yC2IoLRS/WMsgh.yJnQANYZmRkzgN4GZadNW5EbHKKIAh.', '2018-01-14 05:05:54', '2018-01-14 05:05:54', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_show_course
----------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{}, "id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:05:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 427ms (Views: 421.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:05:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:05:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ZrPw/j965lwFJtHSh.PZDu8ZE9c0hOtc4TybqHZ2OH030mrB.msfm"], ["created_at", "2018-01-14 05:05:56.214500"], ["updated_at", "2018-01-14 05:05:56.214500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:05:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (33.1ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:11:28', '2018-01-14 05:11:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:11:28', '2018-01-14 05:11:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:11:29', '2018-01-14 05:11:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:11:29', '2018-01-14 05:11:29', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:11:29', '2018-01-14 05:11:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:11:29', '2018-01-14 05:11:29', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:11:29', '2018-01-14 05:11:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:11:29', '2018-01-14 05:11:29', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$wQwO5YRS6zgbwE7bUQIcXeSSRx3GkeN1rwCtZNlxeqhts6Y2LXGbi', '2018-01-14 05:11:29', '2018-01-14 05:11:29', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$i7OfeQUasx0dAmF4D3FgWuWMhzUg0vUicaFMLbEUFVasRiKlrLWH2"], ["created_at", "2018-01-14 05:11:29.040430"], ["updated_at", "2018-01-14 05:11:29.040430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_show_course
----------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{}, "id"=>"980190962"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:11:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (474.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 502ms (Views: 496.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:11:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:11:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:11:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:19:34', '2018-01-14 05:19:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:19:34', '2018-01-14 05:19:34', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:19:34', '2018-01-14 05:19:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:19:34', '2018-01-14 05:19:34', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:19:34', '2018-01-14 05:19:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:19:34', '2018-01-14 05:19:34', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:19:34', '2018-01-14 05:19:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:19:34', '2018-01-14 05:19:34', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$pDNfcCKfnA8pT/8bLNlhqeW51H2FerVktfScmj/i5ou7MNBGI6ole', '2018-01-14 05:19:34', '2018-01-14 05:19:34', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$5YqNJkNuiY.E1cJRyOAA8OL0eFdVljuDl9uLYk8YULHhMeWVilBVu"], ["created_at", "2018-01-14 05:19:34.178551"], ["updated_at", "2018-01-14 05:19:34.178551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:19:34 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (289.4ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 313ms (Views: 305.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_show_course
----------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{}, "id"=>"298486374"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:19:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:19:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:19:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (6.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:22:22', '2018-01-14 05:22:22', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:22:22', '2018-01-14 05:22:22', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:22:22', '2018-01-14 05:22:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:22:22', '2018-01-14 05:22:22', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (36.9ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:22:22', '2018-01-14 05:22:22', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:22:22', '2018-01-14 05:22:22', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:22:22', '2018-01-14 05:22:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:22:22', '2018-01-14 05:22:22', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$GobHFE1pyj9tzu9n09CRDudZv2zucy2Zh3N4HsR4utWDyqupFbS8.', '2018-01-14 05:22:22', '2018-01-14 05:22:22', 751813785)
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:22:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 247.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:22:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:22:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_show_course
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:22:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$scbu.4WnUDKKrc90n3092ObUm.rUbmMevUK6kGJsuzitDF.MgCTZS"], ["created_at", "2018-01-14 05:22:23.408972"], ["updated_at", "2018-01-14 05:22:23.408972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:28:07', '2018-01-14 05:28:07', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:28:07', '2018-01-14 05:28:07', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:28:07', '2018-01-14 05:28:07', 980190962)[0m
  [1m[35mFixture Insert (1.6ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:28:07', '2018-01-14 05:28:07', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:28:07', '2018-01-14 05:28:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:28:07', '2018-01-14 05:28:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:28:07', '2018-01-14 05:28:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:28:07', '2018-01-14 05:28:07', 298486374)
  [1m[36mFixture Delete (42.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$hrH2xgkXz63sxjc30C19a.9rJ5yPRQ2ulrZbecdh0ATE7w8tkgwN2', '2018-01-14 05:28:07', '2018-01-14 05:28:07', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$gcLk3k9Gw/s928iTw80BvOilQswQvo5Gb2fKdmkH85Xp6ibJbh3dK"], ["created_at", "2018-01-14 05:28:08.082074"], ["updated_at", "2018-01-14 05:28:08.082074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:28:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (288.7ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 318ms (Views: 311.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:28:08 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:28:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:28:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:29:46', '2018-01-14 05:29:46', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:29:46', '2018-01-14 05:29:46', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:29:46', '2018-01-14 05:29:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:29:46', '2018-01-14 05:29:46', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:29:46', '2018-01-14 05:29:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:29:46', '2018-01-14 05:29:46', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:29:46', '2018-01-14 05:29:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:29:46', '2018-01-14 05:29:46', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$4h4nk7gnn/wzPD3Yj5iJk.yq4w8H/4/BnD7boLA26EW10nDXnSnUq', '2018-01-14 05:29:46', '2018-01-14 05:29:46', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:29:46 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_content.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 273ms (Views: 265.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:29:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:29:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:29:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CoursesControllerTest: test_should_get_index
--------------------------------------------
Processing by CoursesController#index as HTML
Redirected to http://test.host/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Parameters: {"id"=>nil}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$uytRqXX9.LdE9gIl8l.llOlqXPfeZ/H9F8dm9R2O16caaXy/yCHuK"], ["created_at", "2018-01-14 05:29:46.554860"], ["updated_at", "2018-01-14 05:29:46.554860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:31:46', '2018-01-14 05:31:46', 980190962)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:31:46', '2018-01-14 05:31:46', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:31:46', '2018-01-14 05:31:46', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:31:46', '2018-01-14 05:31:46', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:31:46', '2018-01-14 05:31:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:31:46', '2018-01-14 05:31:46', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:31:46', '2018-01-14 05:31:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:31:46', '2018-01-14 05:31:46', 298486374)
  [1m[36mFixture Delete (37.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$xzJBCVDHVam6D1e3AjgQh.5/ohLfWCEdUJJ8a8hMOijDhnCfbf8BW', '2018-01-14 05:31:46', '2018-01-14 05:31:46', 751813785)
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:31:46 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 255ms (Views: 248.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:31:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:31:47 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:31:47 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$h.DH8Go4rVOQyE61LywN9.lepnP5Ji2o3MMzV.C6B3fRN/OeGckdm"], ["created_at", "2018-01-14 05:31:47.067394"], ["updated_at", "2018-01-14 05:31:47.067394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Parameters: {"id"=>nil}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:32:38', '2018-01-14 05:32:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:32:38', '2018-01-14 05:32:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:32:38', '2018-01-14 05:32:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:32:38', '2018-01-14 05:32:38', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:32:38', '2018-01-14 05:32:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:32:38', '2018-01-14 05:32:38', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:32:38', '2018-01-14 05:32:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:32:38', '2018-01-14 05:32:38', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$WfhKoKKrTQQvDf2xLLac7u1GfItK3DzCXMeeg8audIjkXp5p7CKoi', '2018-01-14 05:32:38', '2018-01-14 05:32:38', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:32:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (228.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 251ms (Views: 244.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$MK9PiRbUqW.iFouj7Fhiye7uk3Cbt3kt0lDCzuRPgyP8EroStn1s2"], ["created_at", "2018-01-14 05:32:38.849509"], ["updated_at", "2018-01-14 05:32:38.849509"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:32:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:32:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:32:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.8ms)[0m  BEGIN
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:36:24', '2018-01-14 05:36:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:36:24', '2018-01-14 05:36:24', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:36:24', '2018-01-14 05:36:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:36:24', '2018-01-14 05:36:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:36:24', '2018-01-14 05:36:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:36:24', '2018-01-14 05:36:24', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:36:24', '2018-01-14 05:36:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:36:24', '2018-01-14 05:36:24', 298486374)
  [1m[36mFixture Delete (44.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$wa9Fa4NVDuY3qLTwdHTgfuSOB.AhU4R8EA1frqwoDX9nwLWupfTku', '2018-01-14 05:36:24', '2018-01-14 05:36:24', 751813785)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:36:25 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 266ms (Views: 258.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:36:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:36:25 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$RwgenC7onbLaeR3qyCyIHua7rzubtPMR2sVDo0eGKFxbRTkhNLRJS"], ["created_at", "2018-01-14 05:36:25.812593"], ["updated_at", "2018-01-14 05:36:25.812593"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:36:25 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:41:05', '2018-01-14 05:41:05', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:41:05', '2018-01-14 05:41:05', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:41:05', '2018-01-14 05:41:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:41:05', '2018-01-14 05:41:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:41:05', '2018-01-14 05:41:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:41:05', '2018-01-14 05:41:05', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:41:05', '2018-01-14 05:41:05', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:41:05', '2018-01-14 05:41:05', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ge3Ze6YxPVGmG8vVi0Ts4..gaWnWIGZBqbwW9GHyYH7iWe6B2psXq', '2018-01-14 05:41:05', '2018-01-14 05:41:05', 751813785)
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$qZeLbr6lXfGfFWDSIdT//.ak8hpyGF1i.aZmxRGsJjsh8vMfYZqLu"], ["created_at", "2018-01-14 05:41:05.205573"], ["updated_at", "2018-01-14 05:41:05.205573"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:41:05 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (339.2ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 362ms (Views: 355.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "courses"
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:41:06 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:41:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:41:06 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (53.0ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (25.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:44:53', '2018-01-14 05:44:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:44:53', '2018-01-14 05:44:53', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:44:53', '2018-01-14 05:44:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:44:53', '2018-01-14 05:44:53', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:44:53', '2018-01-14 05:44:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:44:53', '2018-01-14 05:44:53', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:44:53', '2018-01-14 05:44:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:44:53', '2018-01-14 05:44:53', 298486374)
  [1m[36mFixture Delete (22.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$0XquDW7kFkVnK8jFd2Ad2uqTqnNpVRTUBv25P6oBDhxcylkzUjv1y', '2018-01-14 05:44:53', '2018-01-14 05:44:53', 751813785)
  [1m[36m (13.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:44:53 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (59.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 2178ms (Views: 2162.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:44:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:44:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:44:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$B.O2rNsZ/kAEDmkbJov2/.4zqi1rUZSqbD0qqh1a2tBIjCC3O8O8K"], ["created_at", "2018-01-14 05:44:57.205046"], ["updated_at", "2018-01-14 05:44:57.205046"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:49:57', '2018-01-14 05:49:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:49:57', '2018-01-14 05:49:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:49:57', '2018-01-14 05:49:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:49:57', '2018-01-14 05:49:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:49:57', '2018-01-14 05:49:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:49:57', '2018-01-14 05:49:57', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:49:57', '2018-01-14 05:49:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:49:57', '2018-01-14 05:49:57', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$NecGZW7IVvjsf3MCFwoZleE/jM/dzsyiZWjgBBJyD.Ol9UwKiHDoS', '2018-01-14 05:49:57', '2018-01-14 05:49:57', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:49:57 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 271ms (Views: 265.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:49:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:49:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:49:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$mjxNg4Z2YVenZ.OVtMyjQu8MR4DMBq9Le.M6amiYnys.QwE8JtN4S"], ["created_at", "2018-01-14 05:49:58.976261"], ["updated_at", "2018-01-14 05:49:58.976261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:52:07', '2018-01-14 05:52:07', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:52:07', '2018-01-14 05:52:07', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:52:07', '2018-01-14 05:52:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:52:07', '2018-01-14 05:52:07', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:52:07', '2018-01-14 05:52:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:52:07', '2018-01-14 05:52:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:52:07', '2018-01-14 05:52:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:52:07', '2018-01-14 05:52:07', 298486374)
  [1m[36mFixture Delete (41.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$cZ1kloGghmuryMiyyH2N0ervyf.1bFvH7A4Ep/0jEQ24FBK5VrH6O', '2018-01-14 05:52:07', '2018-01-14 05:52:07', 751813785)
  [1m[36m (31.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wURTq.7DsBHUvfWMi2lbg.ndjSOIbyBTaaaf6CYBqt2grc2M.GBlG"], ["created_at", "2018-01-14 05:52:07.600894"], ["updated_at", "2018-01-14 05:52:07.600894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:52:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 312ms (Views: 304.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:52:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:52:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:52:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:52:42', '2018-01-14 05:52:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:52:42', '2018-01-14 05:52:42', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:52:42', '2018-01-14 05:52:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:52:42', '2018-01-14 05:52:42', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:52:42', '2018-01-14 05:52:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:52:42', '2018-01-14 05:52:42', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:52:42', '2018-01-14 05:52:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:52:42', '2018-01-14 05:52:42', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$wgu2mSMhRwm40QGQ25t0kOgKSKhh/HQBvTr06Xyh//9hwr64xGVwS', '2018-01-14 05:52:42', '2018-01-14 05:52:42', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:52:42 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (229.9ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 252ms (Views: 246.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses"[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{}}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$60sw8QdrSzKPYcHTlroNn.HzDksDLIEDYMCs9RVtWNmDC3loCyFsa"], ["created_at", "2018-01-14 05:52:43.255369"], ["updated_at", "2018-01-14 05:52:43.255369"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:52:43 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:52:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:52:43 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:58:03', '2018-01-14 05:58:03', 980190962)
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 05:58:03', '2018-01-14 05:58:03', 298486374)[0m
  [1m[35mFixture Delete (24.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:58:03', '2018-01-14 05:58:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 05:58:03', '2018-01-14 05:58:03', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:58:03', '2018-01-14 05:58:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 05:58:03', '2018-01-14 05:58:03', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:58:03', '2018-01-14 05:58:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 05:58:03', '2018-01-14 05:58:03', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$LgA2d84jGVIThdsQmT8JEOUBBddmWs.UPTeTmUmEpxy7HXuZSfocW', '2018-01-14 05:58:03', '2018-01-14 05:58:03', 751813785)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$V3DJOro3I/4L.T5Wq.UAyOmOR2OL5ca2HxVHQFEDe1njcHUVFzOuS"], ["created_at", "2018-01-14 05:58:03.843481"], ["updated_at", "2018-01-14 05:58:03.843481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 13:58:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (7.9ms)
  Rendered layouts/_content.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 446ms (Views: 438.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 13:58:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 13:58:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (6.1ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 13:58:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
Processing by CoursesController#create as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (12.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:01:20', '2018-01-14 06:01:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:01:20', '2018-01-14 06:01:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:01:20', '2018-01-14 06:01:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:01:20', '2018-01-14 06:01:20', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:01:20', '2018-01-14 06:01:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:01:20', '2018-01-14 06:01:20', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:01:20', '2018-01-14 06:01:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:01:20', '2018-01-14 06:01:20', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.M9jxor2wE1YiesKHIi.6OD5VhdhmI7e9kwTPRPXSFRrOFeB8H/LG', '2018-01-14 06:01:20', '2018-01-14 06:01:20', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:01:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 268ms (Views: 261.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:01:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:01:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$0WndUQ.SKlYfar0MyAOJ7OjfzTWBBl.DbxmRzb1aIDLFUS/u5Q3D2"], ["created_at", "2018-01-14 06:01:21.075121"], ["updated_at", "2018-01-14 06:01:21.075121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:01:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
Processing by CoursesController#create as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:04:49', '2018-01-14 06:04:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:04:49', '2018-01-14 06:04:49', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:04:49', '2018-01-14 06:04:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:04:49', '2018-01-14 06:04:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:04:49', '2018-01-14 06:04:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:04:49', '2018-01-14 06:04:49', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:04:49', '2018-01-14 06:04:49', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:04:49', '2018-01-14 06:04:49', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$hnaqifyLEOasMHE5yPy/0OLeeEGYEAeViDXMOzwc25Lt53U6XxIhG', '2018-01-14 06:04:49', '2018-01-14 06:04:49', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:04:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 280ms (Views: 273.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:04:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:04:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (10.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$XTh..Jnr8.21Ex/YhxZJce5OLthqe7wbunMAv6RxNblN43JApjWzO"], ["created_at", "2018-01-14 06:04:49.644026"], ["updated_at", "2018-01-14 06:04:49.644026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:04:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:05:14', '2018-01-14 06:05:14', 980190962)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:05:14', '2018-01-14 06:05:14', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:05:14', '2018-01-14 06:05:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:05:14', '2018-01-14 06:05:14', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:05:14', '2018-01-14 06:05:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:05:14', '2018-01-14 06:05:14', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:05:14', '2018-01-14 06:05:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:05:14', '2018-01-14 06:05:14', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Mk3GSGpfhYl2yohI6H3rU./3RQ8MVPxhk0izgKqJCecRYdg4U71Yy', '2018-01-14 06:05:14', '2018-01-14 06:05:14', 751813785)
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:05:14 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (245.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 263.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$q1WLRRysRN8dzG2a.2GjzuglHeoouxhk2BI5AvX0ijdr5TmvxVIVq"], ["created_at", "2018-01-14 06:05:15.383992"], ["updated_at", "2018-01-14 06:05:15.383992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:05:15 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:05:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:05:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (50.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:10:31', '2018-01-14 06:10:31', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:10:31', '2018-01-14 06:10:31', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:10:31', '2018-01-14 06:10:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:10:31', '2018-01-14 06:10:31', 298486374)
  [1m[36mFixture Delete (8.9ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:10:31', '2018-01-14 06:10:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:10:31', '2018-01-14 06:10:31', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:10:31', '2018-01-14 06:10:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:10:31', '2018-01-14 06:10:31', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$4EHDnqPs0sQqsbbok1q4NubaxmP7wECSWtC/h3U43OsCjv07DFvUG', '2018-01-14 06:10:31', '2018-01-14 06:10:31', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:10:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (21.7ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3126ms (Views: 3109.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:10:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:10:34 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:10:34 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (14.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$p3uV64X6/u4jPOR1Ge.73eZzNGC.l8KFeWKE.shiCDpNIyS0vBDCG"], ["created_at", "2018-01-14 06:10:35.505684"], ["updated_at", "2018-01-14 06:10:35.505684"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (53.8ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (15.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (8.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:13:12', '2018-01-14 06:13:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:13:12', '2018-01-14 06:13:12', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:13:12', '2018-01-14 06:13:12', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:13:12', '2018-01-14 06:13:12', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:13:12', '2018-01-14 06:13:12', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:13:12', '2018-01-14 06:13:12', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:13:12', '2018-01-14 06:13:12', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:13:12', '2018-01-14 06:13:12', 298486374)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$jYaOBpbgC.AxLH5sEF8zj.gtyYwjYmDSwCckT5HOY0wp1LJO4z7Me', '2018-01-14 06:13:12', '2018-01-14 06:13:12', 751813785)
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ioxIwOiolmJQQA5jf20H1OqFFLj3BRCnryINqXSVzHsosYLZd0vf2"], ["created_at", "2018-01-14 06:13:12.948638"], ["updated_at", "2018-01-14 06:13:12.948638"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
Redirected to http://test.host/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:13:13 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (35.9ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 3275ms (Views: 3268.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:13:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:13:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:13:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:14:02', '2018-01-14 06:14:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:14:02', '2018-01-14 06:14:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:14:02', '2018-01-14 06:14:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:14:02', '2018-01-14 06:14:02', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:14:02', '2018-01-14 06:14:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:14:02', '2018-01-14 06:14:02', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:14:02', '2018-01-14 06:14:02', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:14:02', '2018-01-14 06:14:02', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$9Mrf/da0XvMyR/mha.NIJ.NKqgI1hAj96aYUc4TsjdRHKtRv4rRXO', '2018-01-14 06:14:02', '2018-01-14 06:14:02', 751813785)
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:14:02 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 258ms (Views: 251.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:14:02 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:14:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:14:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Hi6L6K1MTDWYlWNwMorv5uJSZDohlUrKihctunwBXpq/DLJrcJk.i"], ["created_at", "2018-01-14 06:14:03.599269"], ["updated_at", "2018-01-14 06:14:03.599269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (30.4ms)
  Rendered courses/new.html.erb within layouts/application (37.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 76ms (Views: 68.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:17:10', '2018-01-14 06:17:10', 980190962)
  [1m[36mFixture Insert (11.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:17:10', '2018-01-14 06:17:10', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:17:10', '2018-01-14 06:17:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:17:10', '2018-01-14 06:17:10', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:17:10', '2018-01-14 06:17:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:17:10', '2018-01-14 06:17:10', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "evaluations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:17:10', '2018-01-14 06:17:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:17:10', '2018-01-14 06:17:10', 298486374)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$dTdZdj4fYt1hGfMmfPkR9uLXCmPmttuJpdtzZg2pxIncHc1t8Trai', '2018-01-14 06:17:10', '2018-01-14 06:17:10', 751813785)
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered courses/edit.html.erb within layouts/application (30.7ms)
Completed 500 Internal Server Error in 62ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (1.7ms)
  Rendered courses/_form.html.erb (471.7ms)
  Rendered courses/new.html.erb within layouts/application (472.7ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1216ms (Views: 1208.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:17:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$hThy/aRDz1M7BEM.5by2mu.jtxnrtrOyfEONxP4nsR9/iozzGyjv2"], ["created_at", "2018-01-14 06:17:11.746667"], ["updated_at", "2018-01-14 06:17:11.746667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:17:11 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (12.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (12.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 156ms (Views: 154.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:17:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:17:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:19:28', '2018-01-14 06:19:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:19:28', '2018-01-14 06:19:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:19:28', '2018-01-14 06:19:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:19:28', '2018-01-14 06:19:28', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:19:28', '2018-01-14 06:19:28')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:19:28', '2018-01-14 06:19:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:19:28', '2018-01-14 06:19:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:19:28', '2018-01-14 06:19:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:19:28', '2018-01-14 06:19:28', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$bfMkJvZJD4kDvNtsLaVCdOy88NPUHJ/JjWjFRWrh1vZ70IJNjzgWK', '2018-01-14 06:19:28', '2018-01-14 06:19:28', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:19:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (286.0ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 318ms (Views: 311.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (9.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$cSgMo0riNuZI1oK/UBJlEOaRum0xA935kuVFodxwxI6jMb93GCIfa"], ["created_at", "2018-01-14 06:19:29.236925"], ["updated_at", "2018-01-14 06:19:29.236925"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:19:29 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:19:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:19:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (3.0ms)
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered courses/_form.html.erb (8.2ms)
  Rendered courses/edit.html.erb within layouts/application (24.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 60ms (Views: 51.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:22:20', '2018-01-14 06:22:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:22:20', '2018-01-14 06:22:20', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:22:20', '2018-01-14 06:22:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:22:20', '2018-01-14 06:22:20', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:22:20', '2018-01-14 06:22:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:22:20', '2018-01-14 06:22:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:22:20', '2018-01-14 06:22:20', 298486374)
  [1m[36mFixture Delete (4.8ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:22:20', '2018-01-14 06:22:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:22:20', '2018-01-14 06:22:20', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$9Oq9Tu8lwQ12Abih0/XxX.cNy2kXVGae851M3kEM/ZqaQ6amsct5e', '2018-01-14 06:22:20', '2018-01-14 06:22:20', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:22:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 247.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:22:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:22:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:22:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$WBZV3Xy0dRhQn1QvTlxenOmJ4/cPHj2D7IasYQBpwL.8tXAeAi1Fi"], ["created_at", "2018-01-14 06:22:20.999468"], ["updated_at", "2018-01-14 06:22:20.999468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (1.7ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/edit.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 19.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:23:14', '2018-01-14 06:23:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:23:14', '2018-01-14 06:23:14', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:23:14', '2018-01-14 06:23:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:23:14', '2018-01-14 06:23:14', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:23:14', '2018-01-14 06:23:14')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:23:14', '2018-01-14 06:23:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:23:14', '2018-01-14 06:23:14', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:23:14', '2018-01-14 06:23:14', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:23:14', '2018-01-14 06:23:14', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$tGDmIQkrEGli4oU07KrzzOyFBrStWsNc1L/5H/TZgE44UAyRWhyYa', '2018-01-14 06:23:14', '2018-01-14 06:23:14', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$smelZSuQ117Ofr1fLvsHvuYrjlKr9L2CLiU52.kcTJ6QAR2KE5a2i"], ["created_at", "2018-01-14 06:23:15.046854"], ["updated_at", "2018-01-14 06:23:15.046854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:23:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (292.1ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 316ms (Views: 308.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:23:15 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:23:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:23:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 400 Bad Request in 18ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.9ms)
  Rendered courses/edit.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:23:36', '2018-01-14 06:23:36', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:23:36', '2018-01-14 06:23:36', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:23:36', '2018-01-14 06:23:36', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:23:36', '2018-01-14 06:23:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:23:36', '2018-01-14 06:23:36')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:23:36', '2018-01-14 06:23:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:23:36', '2018-01-14 06:23:36', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:23:36', '2018-01-14 06:23:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:23:36', '2018-01-14 06:23:36', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$nVEvJFUHqZagzhWPYCwS9uCbBEZQEWI17JtywcKfHrUvcnYQW0NEa', '2018-01-14 06:23:36', '2018-01-14 06:23:36', 751813785)[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$l/gmmjjIbAYOARTjWjq9hu00YGKBBD3w7BM5tep69lI4zuzVGpjxC"], ["created_at", "2018-01-14 06:23:37.063960"], ["updated_at", "2018-01-14 06:23:37.063960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (6.0ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.9ms)
  Rendered courses/edit.html.erb within layouts/application (18.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 360ms (Views: 348.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:23:37 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 17.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:23:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:23:37 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:23:37 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:24:36', '2018-01-14 06:24:36', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:24:36', '2018-01-14 06:24:36', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:24:36', '2018-01-14 06:24:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:24:36', '2018-01-14 06:24:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:24:36', '2018-01-14 06:24:36')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:24:36', '2018-01-14 06:24:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:24:36', '2018-01-14 06:24:36', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:24:36', '2018-01-14 06:24:36', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:24:36', '2018-01-14 06:24:36', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ctWM1AaAopNiTd2VTh7KhO2T5Nzrh1/ru1rdoSXHq87XDEIh0Q//y', '2018-01-14 06:24:36', '2018-01-14 06:24:36', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/wGMx0IQt628nSeqFSOdS.d.e2wrHdRRrUXLzYIb22Bw/Yhtg1XfO"], ["created_at", "2018-01-14 06:24:36.514326"], ["updated_at", "2018-01-14 06:24:36.514326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.9ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.5ms)
  Rendered courses/edit.html.erb within layouts/application (17.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 352ms (Views: 339.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:24:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:24:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:24:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:24:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:25:23', '2018-01-14 06:25:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:25:23', '2018-01-14 06:25:23', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (36.6ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:25:23', '2018-01-14 06:25:23', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:25:23', '2018-01-14 06:25:23', 298486374)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:25:23', '2018-01-14 06:25:23')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:25:23', '2018-01-14 06:25:23', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:25:23', '2018-01-14 06:25:23', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:25:23', '2018-01-14 06:25:23', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:25:23', '2018-01-14 06:25:23', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$p56FvdnM/98EE2cHmu8KkOldOoLIN4aMlQi04gdMzAeRHeKReCCf.', '2018-01-14 06:25:23', '2018-01-14 06:25:23', 751813785)[0m
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:25:23 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 260ms (Views: 253.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:25:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:25:23 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$teYDZpWKyB4w.6dkq9nTKeT.npS8mhd2OzBmQNLsZ5hhjzBpLEzD."], ["created_at", "2018-01-14 06:25:24.039923"], ["updated_at", "2018-01-14 06:25:24.039923"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.8ms)
  Rendered courses/edit.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 14.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:25:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:25:56', '2018-01-14 06:25:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:25:56', '2018-01-14 06:25:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:25:56', '2018-01-14 06:25:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:25:56', '2018-01-14 06:25:56', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:25:56', '2018-01-14 06:25:56')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:25:56', '2018-01-14 06:25:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:25:56', '2018-01-14 06:25:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:25:56', '2018-01-14 06:25:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:25:56', '2018-01-14 06:25:56', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$DCCg.h8ISny9V6A8lXNJ..J6TelB3qdrAQOJAXgYOMoua1wqbCHty', '2018-01-14 06:25:56', '2018-01-14 06:25:56', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:25:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (233.7ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 257ms (Views: 250.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JZwT4TOAZM4bz.6DiZ/RQuwKEka/xV92FMXO6YSFqwZfybRSesqlm"], ["created_at", "2018-01-14 06:25:57.559611"], ["updated_at", "2018-01-14 06:25:57.559611"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:25:57 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:25:57 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:25:57 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (4.1ms)
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered courses/_form.html.erb (24.3ms)
  Rendered courses/edit.html.erb within layouts/application (30.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 35.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.1ms)
  Rendered courses/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:27:53', '2018-01-14 06:27:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:27:53', '2018-01-14 06:27:53', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:27:53', '2018-01-14 06:27:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:27:53', '2018-01-14 06:27:53', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:27:53', '2018-01-14 06:27:53')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:27:53', '2018-01-14 06:27:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:27:53', '2018-01-14 06:27:53', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:27:53', '2018-01-14 06:27:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:27:53', '2018-01-14 06:27:53', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$VG2j5ZKNX9IPUMgGxG2I4uEuWauwRAaIEj.1wXtqLieGcBsoKJwBm', '2018-01-14 06:27:53', '2018-01-14 06:27:53', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$WtE3AHwfPPO/oiYgoo0igu.LMGQsCxrnsMAmVK16WAba7JWWe4B0."], ["created_at", "2018-01-14 06:27:53.587295"], ["updated_at", "2018-01-14 06:27:53.587295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:27:53 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 313ms (Views: 306.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:27:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:27:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (6.8ms)
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered courses/_form.html.erb (11.9ms)
  Rendered courses/edit.html.erb within layouts/application (20.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 25.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:27:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:28:59', '2018-01-14 06:28:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:28:59', '2018-01-14 06:28:59', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:28:59', '2018-01-14 06:28:59', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:28:59', '2018-01-14 06:28:59', 298486374)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:28:59', '2018-01-14 06:28:59')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:28:59', '2018-01-14 06:28:59', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:28:59', '2018-01-14 06:28:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:28:59', '2018-01-14 06:28:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:28:59', '2018-01-14 06:28:59', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$lFrignzBL6KFHFdSWevCkuycuraVEClmL7SmAv/c.2oV.XFjG1RVu', '2018-01-14 06:28:59', '2018-01-14 06:28:59', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.4ms)
  Rendered shared/_error_messages.html.erb (1.7ms)
  Rendered courses/_form.html.erb (436.0ms)
  Rendered courses/edit.html.erb within layouts/application (444.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 751ms (Views: 739.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (9.9ms)
  Rendered courses/new.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/3kv0HiXvsIjagjNWWzp6OhXqPJUJ5RSlwaDzTup2GpMzHeCj07Je"], ["created_at", "2018-01-14 06:29:00.628245"], ["updated_at", "2018-01-14 06:29:00.628245"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:29:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 32ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:29:00 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:29:00 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:29:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:31:46', '2018-01-14 06:31:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:31:46', '2018-01-14 06:31:46', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:31:46', '2018-01-14 06:31:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:31:46', '2018-01-14 06:31:46', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:31:46', '2018-01-14 06:31:46')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:31:46', '2018-01-14 06:31:46', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:31:46', '2018-01-14 06:31:46', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:31:46', '2018-01-14 06:31:46', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:31:46', '2018-01-14 06:31:46', 298486374)[0m
  [1m[35mFixture Delete (12.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$1a4rSf9gVbQsCm9SDBAETe060DN0UV9EUbqh82mTawB1bXbJYL5w6', '2018-01-14 06:31:46', '2018-01-14 06:31:46', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:31:46 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 247.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:31:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:31:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$YQPd37uvS/67ib.mZO.rAuCCGJHW2H0Bk/7N3mnIPZxe3woWvK22e"], ["created_at", "2018-01-14 06:31:47.335686"], ["updated_at", "2018-01-14 06:31:47.335686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (14.3ms)
  Rendered courses/new.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.3ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (18.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (12.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 30.9ms | ActiveRecord: 19.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:31:47 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.0ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:32:24', '2018-01-14 06:32:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:32:24', '2018-01-14 06:32:24', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:32:24', '2018-01-14 06:32:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:32:24', '2018-01-14 06:32:24', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:32:24', '2018-01-14 06:32:24')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:32:24', '2018-01-14 06:32:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:32:24', '2018-01-14 06:32:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:32:24', '2018-01-14 06:32:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:32:24', '2018-01-14 06:32:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$guehXxhVQJ1EWVd1b/IZCOjxxBY6N0rx49Bo/MRwyjKeamwzzXg6y', '2018-01-14 06:32:24', '2018-01-14 06:32:24', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered courses/_form.html.erb (418.1ms)
  Rendered courses/new.html.erb within layouts/application (426.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 731ms (Views: 724.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 15ms (Views: 7.2ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$oxPjH6FZ9sCL8.7YK42bP.K9q00Gj9QIHvHTA0BV78dzX3xD0kuNC"], ["created_at", "2018-01-14 06:32:24.957976"], ["updated_at", "2018-01-14 06:32:24.957976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:32:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:32:25 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:32:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:32:25 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:34:13', '2018-01-14 06:34:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:34:13', '2018-01-14 06:34:13', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:34:13', '2018-01-14 06:34:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:34:13', '2018-01-14 06:34:13', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:34:13', '2018-01-14 06:34:13')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:34:13', '2018-01-14 06:34:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:34:13', '2018-01-14 06:34:13', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:34:13', '2018-01-14 06:34:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:34:13', '2018-01-14 06:34:13', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$NhbI9ZW2L/OlPctrTi.4oeCbyi5XPZ014s.sPeORKI4EfstjeenM.', '2018-01-14 06:34:13', '2018-01-14 06:34:13', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (412.3ms)
  Rendered courses/edit.html.erb within layouts/application (421.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 722ms (Views: 710.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.3ms)
  Rendered courses/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"id"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:34:14 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 11.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:34:14 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:34:14 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:34:14 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$0HA/Te4Wn/n72sd09xPjnOsshDwZ9K9TQSnGT98UnUxwXU22iMnCq"], ["created_at", "2018-01-14 06:34:14.331272"], ["updated_at", "2018-01-14 06:34:14.331272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:35:56', '2018-01-14 06:35:56', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:35:56', '2018-01-14 06:35:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:35:56', '2018-01-14 06:35:56', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:35:56', '2018-01-14 06:35:56', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:35:56', '2018-01-14 06:35:56')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:35:56', '2018-01-14 06:35:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:35:56', '2018-01-14 06:35:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:35:56', '2018-01-14 06:35:56', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:35:56', '2018-01-14 06:35:56', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$kwDi8SNRArRioXOLs8EjZOa07w6NXBw0URZFQHvW7BcGsJTHvmSvW', '2018-01-14 06:35:56', '2018-01-14 06:35:56', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:35:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 267ms (Views: 260.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:35:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:35:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$G9lJzGcQRoEL1To6H9soyeV2mixWyAs8i7kJE8xpa606aGAK/CipC"], ["created_at", "2018-01-14 06:35:56.879856"], ["updated_at", "2018-01-14 06:35:56.879856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:35:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.7ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 17.9ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (1.3ms)
  Rendered courses/_form.html.erb (11.8ms)
  Rendered courses/edit.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 23ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.2ms)
  Rendered courses/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:38:28', '2018-01-14 06:38:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:38:28', '2018-01-14 06:38:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:38:28', '2018-01-14 06:38:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:38:28', '2018-01-14 06:38:28', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:38:28', '2018-01-14 06:38:28')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (2.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:38:28', '2018-01-14 06:38:28', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:38:28', '2018-01-14 06:38:28', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:38:28', '2018-01-14 06:38:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:38:28', '2018-01-14 06:38:28', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$pPUjM7l9GUa5EmzJy2ZDSOScIunXLUzwVw1TyRTsbTDKnDzQowZQC', '2018-01-14 06:38:28', '2018-01-14 06:38:28', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 429ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.9ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (13.2ms)
  Rendered courses/edit.html.erb within layouts/application (23.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 336ms (Views: 335.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:38:29 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:38:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:38:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Q0SoDjixoSAAeyJNgzyHEOFXnhFOkwd1OT9gqbKnf.o8lGD9/bWPq"], ["created_at", "2018-01-14 06:38:29.898835"], ["updated_at", "2018-01-14 06:38:29.898835"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:38:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:39:23', '2018-01-14 06:39:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 06:39:23', '2018-01-14 06:39:23', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:39:23', '2018-01-14 06:39:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 06:39:23', '2018-01-14 06:39:23', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 06:39:23', '2018-01-14 06:39:23')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:39:23', '2018-01-14 06:39:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 06:39:23', '2018-01-14 06:39:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:39:23', '2018-01-14 06:39:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 06:39:23', '2018-01-14 06:39:23', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$3sDB2wYXqy.KzGullxKQyeTPz4VVgd7Sjw.SAk708lO9sNTUnvsGq', '2018-01-14 06:39:23', '2018-01-14 06:39:23', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 14:39:23 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (251.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 274ms (Views: 267.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$SLhdG1Ej2O6.fWg7mrFTgedQUMfac5h/4Ho.HkYwV/f8J5n7trhGi"], ["created_at", "2018-01-14 06:39:23.535637"], ["updated_at", "2018-01-14 06:39:23.535637"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.9ms)
  Rendered courses/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (9.2ms)
  Rendered courses/edit.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 14:39:24 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 14:39:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 14:39:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (5.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (191.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (144.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (38.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:35:44', '2018-01-14 09:35:44', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:35:44', '2018-01-14 09:35:44', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:35:44', '2018-01-14 09:35:44', 980190962)[0m
  [1m[35mFixture Insert (117.9ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:35:44', '2018-01-14 09:35:44', 298486374)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:35:44', '2018-01-14 09:35:44')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:35:44', '2018-01-14 09:35:44', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:35:44', '2018-01-14 09:35:44', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:35:44', '2018-01-14 09:35:44', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:35:44', '2018-01-14 09:35:44', 298486374)[0m
  [1m[35mFixture Delete (25.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Z8sT24NNckWYpS78fhfHyeRyNgti5pFH6feBh4QAeyymPoz3A9NiG', '2018-01-14 09:35:44', '2018-01-14 09:35:44', 751813785)[0m
  [1m[35m (32.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:35:44 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (89.8ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5511ms (Views: 5471.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:35:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:35:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (12.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (7.9ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$HijletOUzZWgj7VZC9gcFuyY2V5eQC/C2S59o6Ibt4GXMBn.eS9sy"], ["created_at", "2018-01-14 09:35:51.279807"], ["updated_at", "2018-01-14 09:35:51.279807"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (3.7ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (13.0ms)
  Rendered courses/edit.html.erb within layouts/application (20.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (8.0ms)
  Rendered courses/new.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 30ms (Views: 9.9ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:35:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:37:09', '2018-01-14 09:37:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:37:09', '2018-01-14 09:37:09', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:37:09', '2018-01-14 09:37:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:37:09', '2018-01-14 09:37:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:37:09', '2018-01-14 09:37:09')[0m
  [1m[35mFixture Delete (11.6ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:37:09', '2018-01-14 09:37:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:37:09', '2018-01-14 09:37:09', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:37:09', '2018-01-14 09:37:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:37:09', '2018-01-14 09:37:09', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Qr8ZBLSPSdPJo5fdHI3z6eFxhxVN7HZPvdRwEan7v6z5tbyjiG5GC', '2018-01-14 09:37:09', '2018-01-14 09:37:09', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered courses/studentlist.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 391ms (Views: 377.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (934.9ms)
  Rendered courses/edit.html.erb within layouts/application (952.2ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 974ms (Views: 972.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 17ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:37:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$rmc2HRbtX45WBZGhfZOUwuagbtI.b3kb2BGqRNDeRxXRHS0BIoXim"], ["created_at", "2018-01-14 09:37:11.560352"], ["updated_at", "2018-01-14 09:37:11.560352"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:37:11 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:37:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:37:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:39:01', '2018-01-14 09:39:01', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:39:01', '2018-01-14 09:39:01', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:39:01', '2018-01-14 09:39:01', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:39:01', '2018-01-14 09:39:01', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:39:01', '2018-01-14 09:39:01')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:39:01', '2018-01-14 09:39:01', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:39:01', '2018-01-14 09:39:01', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:39:01', '2018-01-14 09:39:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:39:01', '2018-01-14 09:39:01', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Qp9dCHCS4LEmoKWhi3ClOuKBNRBtx15KPGoETcaZr6wfrvK6BJwna', '2018-01-14 09:39:01', '2018-01-14 09:39:01', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:39:01 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (252.5ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 276ms (Views: 269.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (3.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (480.9ms)
  Rendered courses/new.html.erb within layouts/application (485.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 500ms (Views: 492.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.4ms)
  Rendered courses/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$GkAVlYbZWGJt1N6M1Ty4i.bGdj9wFl3St7w8nwjnOjUcmrk/oi4di"], ["created_at", "2018-01-14 09:39:02.579518"], ["updated_at", "2018-01-14 09:39:02.579518"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:39:02 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:39:02 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:39:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:39:33', '2018-01-14 09:39:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:39:33', '2018-01-14 09:39:33', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:39:33', '2018-01-14 09:39:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:39:33', '2018-01-14 09:39:33', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:39:33', '2018-01-14 09:39:33')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:39:33', '2018-01-14 09:39:33', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:39:33', '2018-01-14 09:39:33', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:39:33', '2018-01-14 09:39:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:39:33', '2018-01-14 09:39:33', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$BVoLNCDCcIgWI0ju/k7mT.wyzczIaRcPSmwz18nKVcJo2eBd1.jLS', '2018-01-14 09:39:33', '2018-01-14 09:39:33', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (50.8ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:39:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (239.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 271ms (Views: 263.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (4.4ms)
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered courses/_form.html.erb (471.1ms)
  Rendered courses/edit.html.erb within layouts/application (478.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 501ms (Views: 486.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:39:34 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:39:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:39:34 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (13.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$zreH/PZ4ZpJkTLXbhC9t5.JfR1vBXHWrpqrOMB/VNnxRZqAMwmw5."], ["created_at", "2018-01-14 09:39:34.240149"], ["updated_at", "2018-01-14 09:39:34.240149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:41:27', '2018-01-14 09:41:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:41:27', '2018-01-14 09:41:27', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:41:27', '2018-01-14 09:41:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:41:27', '2018-01-14 09:41:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:41:27', '2018-01-14 09:41:27')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:41:27', '2018-01-14 09:41:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:41:27', '2018-01-14 09:41:27', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:41:27', '2018-01-14 09:41:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:41:27', '2018-01-14 09:41:27', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$u75zkyU2OPaj6LK5rtuwme2Sz5MAZmsgz.VyUFUzYIQL3XbAzaqZe', '2018-01-14 09:41:27', '2018-01-14 09:41:27', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered courses/studentlist.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 269ms (Views: 252.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered courses/_form.html.erb (475.8ms)
  Rendered courses/edit.html.erb within layouts/application (476.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 480ms (Views: 479.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:41:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (45.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Q3vX4dqzbWlfvSLUB8tfW.vnlVRk7lEwjLoQKFGOA3bGBdncwJRfe"], ["created_at", "2018-01-14 09:41:28.800333"], ["updated_at", "2018-01-14 09:41:28.800333"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:41:28 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 14.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:41:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:41:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:42:39', '2018-01-14 09:42:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:42:39', '2018-01-14 09:42:39', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:42:39', '2018-01-14 09:42:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:42:39', '2018-01-14 09:42:39', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:42:39', '2018-01-14 09:42:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:42:39', '2018-01-14 09:42:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:42:39', '2018-01-14 09:42:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:42:39', '2018-01-14 09:42:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:42:39', '2018-01-14 09:42:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$8BzygOA0f7sOqGQI0hs3KeED0qyLouyMGPeYOGUat6nWRXszbWJYK', '2018-01-14 09:42:39', '2018-01-14 09:42:39', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:42:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 253ms (Views: 246.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:42:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:42:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$t5N3VGg71bVaAbAROmJeiuo36KR4geiGXQDXILYOBT2S3OtNOEOSq"], ["created_at", "2018-01-14 09:42:40.805257"], ["updated_at", "2018-01-14 09:42:40.805257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.2ms)
  Rendered courses/edit.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (13.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:42:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:42:59', '2018-01-14 09:42:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:42:59', '2018-01-14 09:42:59', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:42:59', '2018-01-14 09:42:59', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:42:59', '2018-01-14 09:42:59', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:42:59', '2018-01-14 09:42:59')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:42:59', '2018-01-14 09:42:59', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:42:59', '2018-01-14 09:42:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:42:59', '2018-01-14 09:42:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:42:59', '2018-01-14 09:42:59', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.VQPyolVkCwt3iYLVxi2g.AA0jVdeR1nemS2g/lZYKJj1X/F/FlQG', '2018-01-14 09:42:59', '2018-01-14 09:42:59', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:42:59 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 288ms (Views: 281.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:43:00 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:43:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (39.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$NJitAwXpZPgDOHa7a2DRDOpjNGXQr1Qy2r/xs9DAd99dekDr8JMjW"], ["created_at", "2018-01-14 09:43:00.739089"], ["updated_at", "2018-01-14 09:43:00.739089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:43:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 17ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.8ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/edit.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (20.5ms)
  Rendered courses/new.html.erb within layouts/application (21.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 24.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:44:05', '2018-01-14 09:44:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:44:05', '2018-01-14 09:44:05', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:44:05', '2018-01-14 09:44:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:44:05', '2018-01-14 09:44:05', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:44:05', '2018-01-14 09:44:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:44:05', '2018-01-14 09:44:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:44:05', '2018-01-14 09:44:05', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:44:05', '2018-01-14 09:44:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:44:05', '2018-01-14 09:44:05', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$3oKwxJfILSi486hgU5oKPuzdMwpp1Z0NSMH13uDZQ5Q0x1Mr.7C/C', '2018-01-14 09:44:05', '2018-01-14 09:44:05', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$8Xm64sMV0XdDMC2qHnzso.SH7PSE27oE/S0NoPmYaQABxmRGFNTOC"], ["created_at", "2018-01-14 09:44:06.300574"], ["updated_at", "2018-01-14 09:44:06.300574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:44:06 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (349.8ms)
  Rendered layouts/_header.html.erb (12.4ms)
  Rendered layouts/_content.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 385ms (Views: 378.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:44:06 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:44:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:44:06 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 24ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (6.0ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (5.9ms)
  Rendered courses/new.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (9.1ms)
  Rendered courses/edit.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:45:20', '2018-01-14 09:45:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:45:20', '2018-01-14 09:45:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (11.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:45:20', '2018-01-14 09:45:20', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:45:20', '2018-01-14 09:45:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:45:20', '2018-01-14 09:45:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:45:20', '2018-01-14 09:45:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:45:20', '2018-01-14 09:45:20', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:45:20', '2018-01-14 09:45:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:45:20', '2018-01-14 09:45:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$miFT9RLDtOGp8Zm4Fl5te.a9Fb9SnjoQRQaruE.q18oPzRiFw1UM2', '2018-01-14 09:45:20', '2018-01-14 09:45:20', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 429ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.9ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.2ms)
  Rendered courses/edit.html.erb within layouts/application (17.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 330ms (Views: 329.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (48.5ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 25ms (ActiveRecord: 2.3ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:45:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:45:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:45:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:45:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/y9HEJD4PfHTjE1NF2UbP.sWAWiWVruIUXA6lNil9ktt.SHCaXbrO"], ["created_at", "2018-01-14 09:45:21.208092"], ["updated_at", "2018-01-14 09:45:21.208092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:49:54', '2018-01-14 09:49:54', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:49:54', '2018-01-14 09:49:54', 298486374)[0m
  [1m[35mFixture Delete (21.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:49:54', '2018-01-14 09:49:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:49:54', '2018-01-14 09:49:54', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:49:54', '2018-01-14 09:49:54')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:49:54', '2018-01-14 09:49:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:49:54', '2018-01-14 09:49:54', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:49:54', '2018-01-14 09:49:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:49:54', '2018-01-14 09:49:54', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$c5E2g2fo/nuLVR6idZCkYum7kjUhlNS2PLf7cfS27J4FCIT7R/mUy', '2018-01-14 09:49:54', '2018-01-14 09:49:54', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (5.4ms)
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered courses/_form.html.erb (413.0ms)
  Rendered courses/new.html.erb within layouts/application (421.9ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 737ms (Views: 730.3ms | ActiveRecord: 0.0ms)
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:49:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:49:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:49:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$aCNBcsyohaM96R949sTufeOnc1wzax9rGy63cGOQK0Iv4eKC9/JVS"], ["created_at", "2018-01-14 09:49:55.819049"], ["updated_at", "2018-01-14 09:49:55.819049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:49:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:51:05', '2018-01-14 09:51:05', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:51:05', '2018-01-14 09:51:05', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:51:05', '2018-01-14 09:51:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:51:05', '2018-01-14 09:51:05', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:51:05', '2018-01-14 09:51:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:51:05', '2018-01-14 09:51:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:51:05', '2018-01-14 09:51:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:51:05', '2018-01-14 09:51:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:51:05', '2018-01-14 09:51:05', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$mRgfWV9ASQIIf/m.hEnsI.73eTgQKsd81fTx4FzL6kOH5Uzn1bxCS', '2018-01-14 09:51:05', '2018-01-14 09:51:05', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:51:05 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 273ms (Views: 266.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:51:05 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:51:05 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.9ms)
  Rendered shared/_error_messages.html.erb (6.0ms)
  Rendered courses/_form.html.erb (471.7ms)
  Rendered courses/edit.html.erb within layouts/application (476.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 492ms (Views: 482.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:51:05 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$laBvXZEkjkAWPrHjZm9taeQSC/ac9J3/I3UMmzzSSDDXVNJIAaEmS"], ["created_at", "2018-01-14 09:51:06.031438"], ["updated_at", "2018-01-14 09:51:06.031438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (37.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:51:59', '2018-01-14 09:51:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:51:59', '2018-01-14 09:51:59', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:51:59', '2018-01-14 09:51:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:51:59', '2018-01-14 09:51:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:51:59', '2018-01-14 09:51:59')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:51:59', '2018-01-14 09:51:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:51:59', '2018-01-14 09:51:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:51:59', '2018-01-14 09:51:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:51:59', '2018-01-14 09:51:59', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$nDQl.OYql.XkJ.E5/Y.JReKQQACABCs.rONB1XuSmqhmgT8CNwzU2', '2018-01-14 09:51:59', '2018-01-14 09:51:59', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:51:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (231.2ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 263ms (Views: 256.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$U0mbzkZCfZyDr6BiUIaDNeWXLFny0z7oNtyJVRfpV7JuHKDfZFmNm"], ["created_at", "2018-01-14 09:52:00.540436"], ["updated_at", "2018-01-14 09:52:00.540436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 27ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.7ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered courses/studentlist.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 12.9ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.5ms)
  Rendered courses/edit.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (6.2ms)
  Rendered courses/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:52:00 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:52:00 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:52:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:53:40', '2018-01-14 09:53:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:53:40', '2018-01-14 09:53:40', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:53:40', '2018-01-14 09:53:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:53:40', '2018-01-14 09:53:40', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:53:40', '2018-01-14 09:53:40')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:53:40', '2018-01-14 09:53:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:53:40', '2018-01-14 09:53:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:53:40', '2018-01-14 09:53:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:53:40', '2018-01-14 09:53:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$eowB6jFmpbgRyaZIbicKMeIVXaasz2Xw7fop9U53Fuqy5DfRYN8JW', '2018-01-14 09:53:40', '2018-01-14 09:53:40', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:53:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (250.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 276ms (Views: 269.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$jV3ZRp1SVe7o4cDiHN2hFOqqnY6eYvNZPy7N31ch.9ynyTb5y1GHa"], ["created_at", "2018-01-14 09:53:40.609212"], ["updated_at", "2018-01-14 09:53:40.609212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 8.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.2ms)
  Rendered courses/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (10.0ms)
  Rendered courses/edit.html.erb within layouts/application (22.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 15ms (ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:53:41 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:53:41 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:53:41 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:55:27', '2018-01-14 09:55:27', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:55:27', '2018-01-14 09:55:27', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:55:27', '2018-01-14 09:55:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:55:27', '2018-01-14 09:55:27', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:55:27', '2018-01-14 09:55:27')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:55:27', '2018-01-14 09:55:27', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:55:27', '2018-01-14 09:55:27', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:55:27', '2018-01-14 09:55:27', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:55:27', '2018-01-14 09:55:27', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$zU7heu7auKCNReWr9ACOXuGEzFpYmf/.8OQwJxczmMLa1Gtvy.yYi', '2018-01-14 09:55:27', '2018-01-14 09:55:27', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:55:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 259ms (Views: 252.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:55:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:55:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$jZ3w8L.OGmQg6/oSudGGG.7xbsfGTtqhjzk8lqQ9GYFeyubHAjmN2"], ["created_at", "2018-01-14 09:55:28.367430"], ["updated_at", "2018-01-14 09:55:28.367430"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 8.3ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.1ms)
  Rendered courses/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.5ms)
  Rendered courses/edit.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:55:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:57:45', '2018-01-14 09:57:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:57:45', '2018-01-14 09:57:45', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:57:45', '2018-01-14 09:57:45', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:57:45', '2018-01-14 09:57:45', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:57:45', '2018-01-14 09:57:45')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:57:45', '2018-01-14 09:57:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:57:45', '2018-01-14 09:57:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:57:45', '2018-01-14 09:57:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:57:45', '2018-01-14 09:57:45', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$A/HJNPP2NJXudg9/gchL3eBiD0V45ED7.RoCU2kmpYCzmZk2TgF.m', '2018-01-14 09:57:45', '2018-01-14 09:57:45', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:57:45 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1595.7ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 1642ms (Views: 1635.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (20.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$vvOlykgbv7R3HI6UD/wd3OfZkqGpla9O36sBbCfHhLDK3HdX6/AT2"], ["created_at", "2018-01-14 09:57:47.744604"], ["updated_at", "2018-01-14 09:57:47.744604"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 50ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (39.4ms)
  Rendered courses/new.html.erb within layouts/application (54.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 85ms (Views: 84.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (18.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:57:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:57:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:57:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:59:19', '2018-01-14 09:59:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 09:59:19', '2018-01-14 09:59:19', 298486374)[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:59:19', '2018-01-14 09:59:19', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 09:59:19', '2018-01-14 09:59:19', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 09:59:19', '2018-01-14 09:59:19')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:59:19', '2018-01-14 09:59:19', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 09:59:19', '2018-01-14 09:59:19', 298486374)
  [1m[36mFixture Delete (34.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:59:19', '2018-01-14 09:59:19', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 09:59:19', '2018-01-14 09:59:19', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$k1qI/yXGH2jqx/rzXwzSyuYs13N10nXoIwJYq25yEizjRaL/FiPee', '2018-01-14 09:59:19', '2018-01-14 09:59:19', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 17:59:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (256.2ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 280ms (Views: 273.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$OYeYY6LfkALlxOoyJjLvk.wubl7/qizy6L3l3x3FpsLpYfsNuPZBu"], ["created_at", "2018-01-14 09:59:20.355211"], ["updated_at", "2018-01-14 09:59:20.355211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 17:59:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 30.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 17:59:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 17:59:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (19.3ms)
  Rendered courses/edit.html.erb within layouts/application (29.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 43.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:00:15', '2018-01-14 10:00:15', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:00:15', '2018-01-14 10:00:15', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:00:15', '2018-01-14 10:00:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:00:15', '2018-01-14 10:00:15', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:00:15', '2018-01-14 10:00:15')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:00:15', '2018-01-14 10:00:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:00:15', '2018-01-14 10:00:15', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:00:15', '2018-01-14 10:00:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:00:15', '2018-01-14 10:00:15', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$fJrUni0.RbiM8A3I01P9aOYwzZ4MRZD6/P/d.ANNyjx3j7CFFbQa6', '2018-01-14 10:00:15', '2018-01-14 10:00:15', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:00:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (264.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 288ms (Views: 281.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:00:15 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:00:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:00:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (2.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 486ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.4ms)
  Rendered courses/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.1ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$UacfZ8QzH4WaugD7cAGdsO.gGdo1Jgk.UqM22AQSHQLEZ1N9I6BsG"], ["created_at", "2018-01-14 10:00:16.205169"], ["updated_at", "2018-01-14 10:00:16.205169"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:00:39', '2018-01-14 10:00:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:00:39', '2018-01-14 10:00:39', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (46.8ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:00:39', '2018-01-14 10:00:39', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:00:39', '2018-01-14 10:00:39', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:00:39', '2018-01-14 10:00:39')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:00:39', '2018-01-14 10:00:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:00:39', '2018-01-14 10:00:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:00:39', '2018-01-14 10:00:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:00:39', '2018-01-14 10:00:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$I8a/ep8m6DlfIzGPPO9CWus4eHKSBmL2LqL/E.1kX9aKwgEDBoA1e', '2018-01-14 10:00:39', '2018-01-14 10:00:39', 751813785)[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:00:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 255.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:00:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:00:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered courses/_form.html.erb (468.7ms)
  Rendered courses/new.html.erb within layouts/application (472.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 486ms (Views: 478.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.9ms)
  Rendered courses/edit.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:00:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bg7U7pVjiSu0fgEo8idgVOmYc2Qwn1Oxd6A1GCYX75qBH9SxXLX7O"], ["created_at", "2018-01-14 10:00:40.257855"], ["updated_at", "2018-01-14 10:00:40.257855"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:01:15', '2018-01-14 10:01:15', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:01:15', '2018-01-14 10:01:15', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:01:15', '2018-01-14 10:01:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:01:15', '2018-01-14 10:01:15', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:01:15', '2018-01-14 10:01:15')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:01:15', '2018-01-14 10:01:15', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:01:15', '2018-01-14 10:01:15', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:01:15', '2018-01-14 10:01:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:01:15', '2018-01-14 10:01:15', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Wj3esbU/jPR2Y5oPV6OIY.nkdqLlkY5T0uuo1O0t1kh1EqiMUkI8K', '2018-01-14 10:01:15', '2018-01-14 10:01:15', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:01:15 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 283ms (Views: 275.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:01:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:01:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.4ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (468.4ms)
  Rendered courses/new.html.erb within layouts/application (472.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 485ms (Views: 477.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.8ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$s3abEuSMqoydoZC77vzhWuGmpSMAvxl5KXB/l8SBnKqdM8.GMGbaq"], ["created_at", "2018-01-14 10:01:16.552302"], ["updated_at", "2018-01-14 10:01:16.552302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:01:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (11.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:02:47', '2018-01-14 10:02:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:02:47', '2018-01-14 10:02:47', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:02:47', '2018-01-14 10:02:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:02:47', '2018-01-14 10:02:47', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:02:47', '2018-01-14 10:02:47')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:02:47', '2018-01-14 10:02:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:02:47', '2018-01-14 10:02:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:02:47', '2018-01-14 10:02:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:02:47', '2018-01-14 10:02:47', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$InxzGJxpOxwWiiv3.4i7DO4rJZ4kmpIuhl28/.yPX3WvL2YVoICli', '2018-01-14 10:02:47', '2018-01-14 10:02:47', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:02:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 255.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:02:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:02:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 481ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (1.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/edit.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$OFoqJ20x84BfW/Y3u7rhyevRe2.lzh4fUvkVK/e6jllfpuiPvEnH6"], ["created_at", "2018-01-14 10:02:48.775789"], ["updated_at", "2018-01-14 10:02:48.775789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:02:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:03:20', '2018-01-14 10:03:20', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:03:20', '2018-01-14 10:03:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:03:20', '2018-01-14 10:03:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:03:20', '2018-01-14 10:03:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:03:20', '2018-01-14 10:03:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:03:20', '2018-01-14 10:03:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:03:20', '2018-01-14 10:03:20', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:03:20', '2018-01-14 10:03:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:03:20', '2018-01-14 10:03:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Z.X/yot8XJDx6NI5RgTCOeacX8B42aTHhRafNAE900qzff85jZyJ2', '2018-01-14 10:03:20', '2018-01-14 10:03:20', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.4ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (433.6ms)
  Rendered courses/edit.html.erb within layouts/application (442.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 753ms (Views: 740.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.0ms | ActiveRecord: 2.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:03:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$U/.Ef3u9BFIV9f7p2EG8XukUeq7YEugIPoPnKeNRudd2UqWSThXHe"], ["created_at", "2018-01-14 10:03:21.273399"], ["updated_at", "2018-01-14 10:03:21.273399"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:03:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 16.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:03:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:03:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:05:32', '2018-01-14 10:05:32', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:05:32', '2018-01-14 10:05:32', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:05:32', '2018-01-14 10:05:32', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:05:32', '2018-01-14 10:05:32', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:05:32', '2018-01-14 10:05:32')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:05:32', '2018-01-14 10:05:32', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:05:32', '2018-01-14 10:05:32', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:05:32', '2018-01-14 10:05:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:05:32', '2018-01-14 10:05:32', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$0/N6AP2NZ83Q5chJdYABvuC5fSCxGDDQ2WL6aTsDh5Vxyzx2yyVLG', '2018-01-14 10:05:32', '2018-01-14 10:05:32', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$fdxfTn3NfdNxEslezEtUvOKe/.aTUJXTi7Yw/JkzwyRBpGHTIa0q."], ["created_at", "2018-01-14 10:05:33.207070"], ["updated_at", "2018-01-14 10:05:33.207070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.3ms)
  Rendered courses/new.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 318ms (Views: 311.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.3ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:05:33 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:05:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:05:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:05:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:06:06', '2018-01-14 10:06:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:06:06', '2018-01-14 10:06:06', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:06:07', '2018-01-14 10:06:07', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:06:07', '2018-01-14 10:06:07', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:06:07', '2018-01-14 10:06:07')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:06:07', '2018-01-14 10:06:07', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:06:07', '2018-01-14 10:06:07', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:06:07', '2018-01-14 10:06:07', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:06:07', '2018-01-14 10:06:07', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$XyXXWI0UlcTKUxWqKfuOb.FvMb/xnElgqj7qylvq2/CqBvg/z.QEu', '2018-01-14 10:06:07', '2018-01-14 10:06:07', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:06:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (231.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 255ms (Views: 248.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered courses/_form.html.erb (472.7ms)
  Rendered courses/new.html.erb within layouts/application (476.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 491ms (Views: 482.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bxcwYXCPZoLqv/LiKE1PheYLMsUYINsf.nERqToMdJTk/hukGFXIC"], ["created_at", "2018-01-14 10:06:07.947272"], ["updated_at", "2018-01-14 10:06:07.947272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:06:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 15.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:06:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:06:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:09:18', '2018-01-14 10:09:18', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:09:18', '2018-01-14 10:09:18', 298486374)[0m
  [1m[35mFixture Delete (39.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:09:18', '2018-01-14 10:09:18', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:09:18', '2018-01-14 10:09:18', 298486374)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:09:18', '2018-01-14 10:09:18')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:09:18', '2018-01-14 10:09:18', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:09:18', '2018-01-14 10:09:18', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:09:18', '2018-01-14 10:09:18', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:09:18', '2018-01-14 10:09:18', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.sZqS6EAxoj88xhByAXmJ.dUyYEEnoq9RXIoRwEFtj7kgganelese', '2018-01-14 10:09:18', '2018-01-14 10:09:18', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$SwrV7vK3iDhlX3xUOugUIe83zTOJiXPzAJb1zgHG2Q6cLf6LsAvwW"], ["created_at", "2018-01-14 10:09:18.778784"], ["updated_at", "2018-01-14 10:09:18.778784"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (6.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 381ms (Views: 375.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.1ms)
  Rendered courses/edit.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:09:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:09:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:09:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:09:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:09:50', '2018-01-14 10:09:50', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:09:50', '2018-01-14 10:09:50', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:09:50', '2018-01-14 10:09:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:09:50', '2018-01-14 10:09:50', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:09:50', '2018-01-14 10:09:50')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:09:50', '2018-01-14 10:09:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:09:50', '2018-01-14 10:09:50', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:09:50', '2018-01-14 10:09:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:09:50', '2018-01-14 10:09:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$odCWnzLA5cmsBRr22njFOOsVGauaMu6iXTloNoxTuOMHK48Nh4.wO', '2018-01-14 10:09:50', '2018-01-14 10:09:50', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered courses/_form.html.erb (422.2ms)
  Rendered courses/edit.html.erb within layouts/application (431.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 745ms (Views: 733.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.0ms)
  Rendered courses/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1[0m  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:09:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:09:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:09:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:09:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$V2rf8taEOym4721Cl4Ceq.EOa/1roBuXCVs69lUoZrjyFtUDc/59u"], ["created_at", "2018-01-14 10:09:51.495850"], ["updated_at", "2018-01-14 10:09:51.495850"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:11:20', '2018-01-14 10:11:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:11:20', '2018-01-14 10:11:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:11:20', '2018-01-14 10:11:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:11:20', '2018-01-14 10:11:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "created_at", "updated_at") VALUES (2, 'coursename1', '2018-01-14 10:11:20', '2018-01-14 10:11:20')[0m
  [1m[35mFixture Delete (63.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:11:20', '2018-01-14 10:11:20', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:11:20', '2018-01-14 10:11:20', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:11:20', '2018-01-14 10:11:20', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:11:20', '2018-01-14 10:11:20', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$6Y27sEmuuA8dgzjnDoH.kua0TEJ1aQQaYAv2kWXPamrvf4eFsupxq', '2018-01-14 10:11:20', '2018-01-14 10:11:20', 751813785)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:11:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (244.0ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 261.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:11:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:11:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:11:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (3.2ms)
  Rendered shared/_error_messages.html.erb (5.5ms)
  Rendered courses/_form.html.erb (464.4ms)
  Rendered courses/new.html.erb within layouts/application (469.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 488ms (Views: 478.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (4.4ms)
  Rendered courses/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$e7jP4My.huGR/KEqZ2GkneCuv8osTtntRTGAvBQKn4L3kfveXaUby"], ["created_at", "2018-01-14 10:11:21.711618"], ["updated_at", "2018-01-14 10:11:21.711618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (39.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:24:06', '2018-01-14 10:24:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:24:06', '2018-01-14 10:24:06', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:24:06', '2018-01-14 10:24:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:24:06', '2018-01-14 10:24:06', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:24:06', '2018-01-14 10:24:06')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:24:06', '2018-01-14 10:24:06', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:24:06', '2018-01-14 10:24:06', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:24:06', '2018-01-14 10:24:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:24:06', '2018-01-14 10:24:06', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$dyJ0MYNk4S7QkvR3mtiZ2.FtpCaObdQS4tKxG92sTveHa0owIIi8y', '2018-01-14 10:24:06', '2018-01-14 10:24:06', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$K8QgtxOrkDEn3ARRKV7Iw.RVPETD0ZaQ.Z08lxS9Ao7PbtuHNaioO"], ["created_at", "2018-01-14 10:24:07.360510"], ["updated_at", "2018-01-14 10:24:07.360510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:24:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 338ms (Views: 326.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:24:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:24:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.4ms)
  Rendered courses/studentlist.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 16.9ms | ActiveRecord: 1.2ms)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (8.8ms)
  Rendered courses/edit.html.erb within layouts/application (10.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:24:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:24:28', '2018-01-14 10:24:28', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:24:28', '2018-01-14 10:24:28', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:24:28', '2018-01-14 10:24:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:24:28', '2018-01-14 10:24:28', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:24:28', '2018-01-14 10:24:28')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:24:28', '2018-01-14 10:24:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:24:28', '2018-01-14 10:24:28', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:24:28', '2018-01-14 10:24:28', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:24:28', '2018-01-14 10:24:28', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$HX80DdOMjTwZt1XRpJ36LefdWiL0YoL3LoEz66ACWoZm4ep0EFaVG', '2018-01-14 10:24:28', '2018-01-14 10:24:28', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:24:28 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 263.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:24:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:24:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$.kDa2eE1eyNT/tD/AcMS4.vLwmeWJyL5uiNNnrJ8hVm8oTkkpWX66"], ["created_at", "2018-01-14 10:24:29.137577"], ["updated_at", "2018-01-14 10:24:29.137577"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered courses/_form.html.erb (9.4ms)
  Rendered courses/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "courses" WHERE "courses"."open" = $1  [["open", "t"]]
  Rendered courses/list.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:24:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:25:32', '2018-01-14 10:25:32', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:25:32', '2018-01-14 10:25:32', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:25:33', '2018-01-14 10:25:33', 980190962)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:25:33', '2018-01-14 10:25:33', 298486374)
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:25:33', '2018-01-14 10:25:33')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:25:33', '2018-01-14 10:25:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:25:33', '2018-01-14 10:25:33', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:25:33', '2018-01-14 10:25:33', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:25:33', '2018-01-14 10:25:33', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ekUcam.DCtlOkP8p5rZ32OlUFjwVnwZ1SdbQ4TnsajrOPZzr70k0a', '2018-01-14 10:25:33', '2018-01-14 10:25:33', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:25:33 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 258ms (Views: 251.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:25:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:25:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$D9hbhv71/cmdpaEMxW8qw.T1Oz0huP9hHo3dU/R4CAygBCLLafGR."], ["created_at", "2018-01-14 10:25:33.849135"], ["updated_at", "2018-01-14 10:25:33.849135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:25:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (6.7ms)
  Rendered courses/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 17.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 23ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.3ms)
  Rendered courses/edit.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:27:37', '2018-01-14 10:27:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:27:37', '2018-01-14 10:27:37', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:27:37', '2018-01-14 10:27:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:27:37', '2018-01-14 10:27:37', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:27:37', '2018-01-14 10:27:37')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:27:37', '2018-01-14 10:27:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:27:37', '2018-01-14 10:27:37', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (7.9ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:27:37', '2018-01-14 10:27:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:27:37', '2018-01-14 10:27:37', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$/hEXrOOtXtZ6A5gSzIMlJuoVbljLSML7P0RJssCT3S9cWI36S2.IK', '2018-01-14 10:27:37', '2018-01-14 10:27:37', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$voYEpyqUo/09u3ILOUWeY.FOZeIeyfxQ12OPXDcw9RNXW0Oc9/bqm"], ["created_at", "2018-01-14 10:27:37.925176"], ["updated_at", "2018-01-14 10:27:37.925176"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:27:37 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 327ms (Views: 320.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:27:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:27:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:27:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered courses/studentlist.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 8.9ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/edit.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (62.3ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (36.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 39ms (Views: 39.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:29:57', '2018-01-14 10:29:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:29:57', '2018-01-14 10:29:57', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:29:57', '2018-01-14 10:29:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:29:57', '2018-01-14 10:29:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:29:57', '2018-01-14 10:29:57')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:29:57', '2018-01-14 10:29:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:29:57', '2018-01-14 10:29:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:29:57', '2018-01-14 10:29:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:29:57', '2018-01-14 10:29:57', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$3gHatfQXsQk7ZqLkU1JgU.TTMC/Z1KgI2OAVyhIsD6TjFYfx21ut2', '2018-01-14 10:29:57', '2018-01-14 10:29:57', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:29:57 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (233.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 256ms (Views: 249.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:29:58 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 12.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:29:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:29:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.6ms)
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered courses/_form.html.erb (459.5ms)
  Rendered courses/edit.html.erb within layouts/application (463.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 483ms (Views: 471.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ME9.ot04puxQ5zYy1ZmY2epttaKGXqDNucNetg3CeG8HH3ShtYDli"], ["created_at", "2018-01-14 10:29:58.719810"], ["updated_at", "2018-01-14 10:29:58.719810"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (71.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:34:29', '2018-01-14 10:34:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:34:29', '2018-01-14 10:34:29', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:34:29', '2018-01-14 10:34:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:34:29', '2018-01-14 10:34:29', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '2018-01-14 10:34:29', '2018-01-14 10:34:29')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:34:29', '2018-01-14 10:34:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:34:29', '2018-01-14 10:34:29', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:34:29', '2018-01-14 10:34:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:34:29', '2018-01-14 10:34:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Uf.5oXlawXFfTc4adLKRA.sNg.2iRp/p9FrfQSiDrGf8BlI1F4QDy', '2018-01-14 10:34:29', '2018-01-14 10:34:29', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:34:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (253.6ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (2.4ms)
Completed 200 OK in 454ms (Views: 446.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:34:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:34:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:34:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered courses/_form.html.erb (501.3ms)
  Rendered courses/new.html.erb within layouts/application (504.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 518ms (Views: 510.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (6.6ms)
  Rendered courses/edit.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (1.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 2.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$9NLGDKuigFt1FsZYeeT7ruiy0Iegr/8cxRH1zgQ4bbEwYuZHDnbVK"], ["created_at", "2018-01-14 10:34:30.931899"], ["updated_at", "2018-01-14 10:34:30.931899"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:35:59', '2018-01-14 10:35:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:35:59', '2018-01-14 10:35:59', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:35:59', '2018-01-14 10:35:59', 980190962)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:35:59', '2018-01-14 10:35:59', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '123', '2018-01-14 10:35:59', '2018-01-14 10:35:59')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:35:59', '2018-01-14 10:35:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:35:59', '2018-01-14 10:35:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:35:59', '2018-01-14 10:35:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:35:59', '2018-01-14 10:35:59', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$xCq4FtetxZmVRcOlNd4ePOYYI53h/Cf6yoSO9ROMUE5.m2K50xkBm', '2018-01-14 10:35:59', '2018-01-14 10:35:59', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:35:59 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 290ms (Views: 283.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:36:00 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:36:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:36:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$VFBCh8YbHnNB3e5thQh57e.hIjDKqm.TSSgsK5oHXiqxUguTOtwyO"], ["created_at", "2018-01-14 10:36:00.307657"], ["updated_at", "2018-01-14 10:36:00.307657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (3.5ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (9.8ms)
  Rendered courses/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 22.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (27.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 32ms (Views: 30.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.6ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.9ms)
  Rendered courses/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:37:23', '2018-01-14 10:37:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:37:23', '2018-01-14 10:37:23', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:37:23', '2018-01-14 10:37:23', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:37:23', '2018-01-14 10:37:23', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '546', '2018-01-14 10:37:23', '2018-01-14 10:37:23')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:37:23', '2018-01-14 10:37:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:37:23', '2018-01-14 10:37:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:37:23', '2018-01-14 10:37:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:37:23', '2018-01-14 10:37:23', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (7.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$bnY7PoYYLzRC6i8AeLOYH.rzxUG6Ck8BImWV.BMxQ.Cmnm2Ar85YS', '2018-01-14 10:37:23', '2018-01-14 10:37:23', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (6.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 253.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 479ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/edit.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:37:24 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 11.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:37:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:37:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:37:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$.tWezVrU1BP/pX2HAZERje9MHCVyb8RUkybUuNUk8e0V39q5/AW9O"], ["created_at", "2018-01-14 10:37:24.658359"], ["updated_at", "2018-01-14 10:37:24.658359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:39:23', '2018-01-14 10:39:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:39:23', '2018-01-14 10:39:23', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:39:23', '2018-01-14 10:39:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:39:23', '2018-01-14 10:39:23', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '126', '2018-01-14 10:39:23', '2018-01-14 10:39:23')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:39:23', '2018-01-14 10:39:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:39:23', '2018-01-14 10:39:23', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:39:23', '2018-01-14 10:39:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:39:23', '2018-01-14 10:39:23', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$bMzytsC2Z4maIA3iYb1IzeIQ4dkwc1J.loKlujXL9YScn.JlQ83FK', '2018-01-14 10:39:23', '2018-01-14 10:39:23', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 427ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.8ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.2ms)
  Rendered courses/edit.html.erb within layouts/application (16.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 345ms (Views: 344.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:39:24 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:39:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:39:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:39:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$thMVU7FdnEBAAy5zuURwxu5qr10uftpsT6xhrWKoSrdkjko8tVBWi"], ["created_at", "2018-01-14 10:39:24.727235"], ["updated_at", "2018-01-14 10:39:24.727235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:41:10', '2018-01-14 10:41:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:41:10', '2018-01-14 10:41:10', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:41:10', '2018-01-14 10:41:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:41:10', '2018-01-14 10:41:10', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '126', '2018-01-14 10:41:10', '2018-01-14 10:41:10')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:41:10', '2018-01-14 10:41:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:41:10', '2018-01-14 10:41:10', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:41:10', '2018-01-14 10:41:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:41:10', '2018-01-14 10:41:10', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.5ZiR2J7fsOOVvpi/EybeOG2zV6vm4LI02pPfcKz4NQKUtw0wjche', '2018-01-14 10:41:10', '2018-01-14 10:41:10', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (6.0ms)
  Rendered shared/_error_messages.html.erb (4.1ms)
  Rendered courses/_form.html.erb (424.2ms)
  Rendered courses/new.html.erb within layouts/application (433.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 751ms (Views: 743.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_list
---------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.2ms | ActiveRecord: 2.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:41:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$3YZDsiTM8JpuG/nheKxCkezVzfg80S.cty/oHKdGIMF79OgJP12dC"], ["created_at", "2018-01-14 10:41:11.819665"], ["updated_at", "2018-01-14 10:41:11.819665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:41:11 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:41:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:41:11 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:53:07', '2018-01-14 10:53:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:53:07', '2018-01-14 10:53:07', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:53:08', '2018-01-14 10:53:08', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:53:08', '2018-01-14 10:53:08', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '126', '2018-01-14 10:53:08', '2018-01-14 10:53:08')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:53:08', '2018-01-14 10:53:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:53:08', '2018-01-14 10:53:08', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (9.8ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:53:08', '2018-01-14 10:53:08', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:53:08', '2018-01-14 10:53:08', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$FuLSbJfkUWCTri4q6qG4vuAcKQCBg2..K1Ywfsrq.WW9JmZjqmjj6', '2018-01-14 10:53:08', '2018-01-14 10:53:08', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:53:08 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 347ms (Views: 340.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:53:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:53:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 21.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:53:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (13.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$2LkyUorFKGSwUXlolmUfdeIAO7slE.PgYfKne.X10uTTRcghuZEyO"], ["created_at", "2018-01-14 10:53:09.532638"], ["updated_at", "2018-01-14 10:53:09.532638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.5ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (4.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 21.0ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (18.6ms)
  Rendered courses/edit.html.erb within layouts/application (20.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (9.6ms)
  Rendered courses/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 24ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.6ms)
  Rendered courses/list.html.erb within layouts/application (29.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 53ms (Views: 51.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:54:53', '2018-01-14 10:54:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:54:53', '2018-01-14 10:54:53', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:54:53', '2018-01-14 10:54:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:54:53', '2018-01-14 10:54:53', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '126', '2018-01-14 10:54:53', '2018-01-14 10:54:53')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:54:53', '2018-01-14 10:54:53', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:54:53', '2018-01-14 10:54:53', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:54:53', '2018-01-14 10:54:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:54:53', '2018-01-14 10:54:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$BGol3d32xMOBkHZYq6haGeJzJkeeetSqJB0f6OXL1gjgCav3UI6Xa', '2018-01-14 10:54:53', '2018-01-14 10:54:53', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 425ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (5.6ms)
  Rendered courses/studentlist.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 331ms (Views: 326.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/edit.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (4.0ms)
  Rendered courses/new.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:54:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:54:54 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:54:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:54:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wPKkZXWtHxT0LVoZ40NEIOFuzm0Ox0pbIHC12iM1Utklt.M4r2G4K"], ["created_at", "2018-01-14 10:54:54.950715"], ["updated_at", "2018-01-14 10:54:54.950715"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:56:17', '2018-01-14 10:56:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 10:56:17', '2018-01-14 10:56:17', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:56:17', '2018-01-14 10:56:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 10:56:17', '2018-01-14 10:56:17', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '126', '2018-01-14 10:56:17', '2018-01-14 10:56:17')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:56:17', '2018-01-14 10:56:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 10:56:17', '2018-01-14 10:56:17', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:56:17', '2018-01-14 10:56:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 10:56:17', '2018-01-14 10:56:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$pkhwojaZupr2g7QKzJeKg.6LjajsOPKwnDAoY7VDGbRr9rps1SO.O', '2018-01-14 10:56:17', '2018-01-14 10:56:17', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 425ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Redirected to http://test.host/courses/list
Completed 302 Found in 1ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.7ms)
  Rendered courses/studentlist.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 316ms (Views: 311.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.1ms)
  Rendered courses/edit.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 18:56:18 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 18:56:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 18:56:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$s4xYwSgFhK1xDXQ3tK6x1ucmS9UUY9XVHryMpdDqO0WpZ50g51GVu"], ["created_at", "2018-01-14 10:56:18.564144"], ["updated_at", "2018-01-14 10:56:18.564144"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 18:56:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (2.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:11:56', '2018-01-14 11:11:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:11:56', '2018-01-14 11:11:56', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:11:56', '2018-01-14 11:11:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:11:56', '2018-01-14 11:11:56', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:11:56', '2018-01-14 11:11:56')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:11:56', '2018-01-14 11:11:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:11:56', '2018-01-14 11:11:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:11:56', '2018-01-14 11:11:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:11:56', '2018-01-14 11:11:56', 298486374)[0m
  [1m[35mFixture Delete (13.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$N40fx0EwpMUpWTcmBiKbj.eGfZhfRHQhRq4u/A7uRamHYeabMfw3q', '2018-01-14 11:11:56', '2018-01-14 11:11:56', 751813785)[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36m (7.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:11:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 299ms (Views: 292.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:11:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:11:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$mz0LX7FTnFwbjIIy.wKGhOJD3HSb6pi2eWy6G4JAZtn.lYlKMvIUy"], ["created_at", "2018-01-14 11:11:56.619663"], ["updated_at", "2018-01-14 11:11:56.619663"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:11:57 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (13.7ms)
  Rendered courses/edit.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 44.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (22.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 41.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 7.3ms | ActiveRecord: 1.3ms)
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (4.5ms)
  Rendered courses/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:13:57', '2018-01-14 11:13:57', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:13:57', '2018-01-14 11:13:57', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:13:57', '2018-01-14 11:13:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:13:57', '2018-01-14 11:13:57', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:13:57', '2018-01-14 11:13:57')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:13:57', '2018-01-14 11:13:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:13:57', '2018-01-14 11:13:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:13:57', '2018-01-14 11:13:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:13:57', '2018-01-14 11:13:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$08YUDazfglfpcZLCyQRMHOy5IWGs.g3JazME.CGcHvo1ggCm3/lSi', '2018-01-14 11:13:57', '2018-01-14 11:13:57', 751813785)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (5.8ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (411.1ms)
  Rendered courses/new.html.erb within layouts/application (420.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 735ms (Views: 728.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 3.0ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.1ms)
  Rendered courses/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:13:58 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:13:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:13:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:13:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$aaj8EGNUgj3A5LNE3.1X7.9mOHxYdjbibeex5MvvC0Yv6wdvj4Ite"], ["created_at", "2018-01-14 11:13:58.250238"], ["updated_at", "2018-01-14 11:13:58.250238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:15:41', '2018-01-14 11:15:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:15:41', '2018-01-14 11:15:41', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:15:41', '2018-01-14 11:15:41', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:15:41', '2018-01-14 11:15:41', 298486374)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:15:41', '2018-01-14 11:15:41')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:15:41', '2018-01-14 11:15:41', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:15:41', '2018-01-14 11:15:41', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:15:41', '2018-01-14 11:15:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:15:41', '2018-01-14 11:15:41', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$a6Qkdl/ZvvNf2OGft3ea0.hRAhvoUlHLpDdRubigPcGTJ131Csriu', '2018-01-14 11:15:41', '2018-01-14 11:15:41', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:15:41 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 233ms (Views: 226.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:15:41 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:15:41 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bxHG1mWfm5.s1dZAfiv6sudsIb/EZ5y9/RxmGqDiItk36GnoBd.na"], ["created_at", "2018-01-14 11:15:42.394060"], ["updated_at", "2018-01-14 11:15:42.394060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 15ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (4.9ms)
  Rendered courses/list.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"所有"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered courses/_form.html.erb (8.9ms)
  Rendered courses/new.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (4.7ms)
  Rendered courses/edit.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:15:42 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:17:26', '2018-01-14 11:17:26', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:17:26', '2018-01-14 11:17:26', 298486374)[0m
  [1m[35mFixture Delete (12.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:17:26', '2018-01-14 11:17:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:17:26', '2018-01-14 11:17:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:17:26', '2018-01-14 11:17:26')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:17:26', '2018-01-14 11:17:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:17:26', '2018-01-14 11:17:26', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:17:26', '2018-01-14 11:17:26', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:17:26', '2018-01-14 11:17:26', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$LGfr2.6Jt3gGDtVSCOlBYujNFis3/JHx4V29QGwW4f.6l.1kLWNmW', '2018-01-14 11:17:26', '2018-01-14 11:17:26', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:17:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (227.8ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 253ms (Views: 245.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$hQGYi3q249DqkvZWphLV5et6xcpv8cgGaauiGfQj2Fk33wZK.4Foa"], ["created_at", "2018-01-14 11:17:26.998426"], ["updated_at", "2018-01-14 11:17:26.998426"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:17:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 67.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:17:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:17:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (1.6ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (14.6ms)
  Rendered courses/studentlist.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 23.6ms | ActiveRecord: 3.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (6.1ms)
  Rendered courses/edit.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (7.7ms)
  Rendered courses/new.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (7.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 14ms (ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:18:14', '2018-01-14 11:18:14', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:18:14', '2018-01-14 11:18:14', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:18:14', '2018-01-14 11:18:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:18:14', '2018-01-14 11:18:14', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:18:14', '2018-01-14 11:18:14')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:18:14', '2018-01-14 11:18:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:18:14', '2018-01-14 11:18:14', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:18:14', '2018-01-14 11:18:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:18:14', '2018-01-14 11:18:14', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$vS6Je2PvrMAwuULQ.iv38O6BMxv.1Ym.Ppa5J6XyHs8yw8mVhfDh6', '2018-01-14 11:18:14', '2018-01-14 11:18:14', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (47.6ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:18:14 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 253ms (Views: 246.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:18:14 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:18:14 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$xWM1fgXxVe/moRBANcZl4.1OdZNiu54d4EB/HwKUnIetwH8Txvrka"], ["created_at", "2018-01-14 11:18:15.020077"], ["updated_at", "2018-01-14 11:18:15.020077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.9ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.7ms)
  Rendered courses/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 21ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:18:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (2.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:19:12', '2018-01-14 11:19:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:19:12', '2018-01-14 11:19:12', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:19:12', '2018-01-14 11:19:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:19:12', '2018-01-14 11:19:12', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:19:12', '2018-01-14 11:19:12')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:19:12', '2018-01-14 11:19:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:19:12', '2018-01-14 11:19:12', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:19:12', '2018-01-14 11:19:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:19:12', '2018-01-14 11:19:12', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Q74eiZ8VJRUSxd7yZQxBseOCnRW4KQV99kjpF.gD6uH6Pb5BBru2K', '2018-01-14 11:19:12', '2018-01-14 11:19:12', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$afD715wlNibDP/COJjYLo.02VJxMbnfXIHxfLZwjecGPYuec755Ya"], ["created_at", "2018-01-14 11:19:13.051106"], ["updated_at", "2018-01-14 11:19:13.051106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 18ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered courses/list.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 360ms (Views: 354.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (13.4ms)
  Rendered courses/new.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:19:13 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:19:13 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 16.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:19:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:19:13 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:21:29', '2018-01-14 11:21:29', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:21:29', '2018-01-14 11:21:29', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:21:29', '2018-01-14 11:21:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:21:29', '2018-01-14 11:21:29', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:21:29', '2018-01-14 11:21:29')[0m
  [1m[35mFixture Delete (43.0ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:21:29', '2018-01-14 11:21:29', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:21:29', '2018-01-14 11:21:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:21:29', '2018-01-14 11:21:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:21:29', '2018-01-14 11:21:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$JrcDfv9QthHrayPepAuZIe.iNQhIYFtTETNtVt4DGTaVWTj1GuGlO', '2018-01-14 11:21:29', '2018-01-14 11:21:29', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JgI/f7fo92H.no1lqStHl.qYI06tg8tdS1o5dxpzlgne5f9mYzm4."], ["created_at", "2018-01-14 11:21:29.440205"], ["updated_at", "2018-01-14 11:21:29.440205"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:21:29 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 344ms (Views: 337.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:21:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:21:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:21:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.7ms)
  Rendered courses/edit.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 17.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"一级学科核心课"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (43.0ms)
  Rendered courses/new.html.erb within layouts/application (44.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 47.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 1.3ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:22:00', '2018-01-14 11:22:00', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:22:00', '2018-01-14 11:22:00', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:22:00', '2018-01-14 11:22:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:22:00', '2018-01-14 11:22:00', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:22:00', '2018-01-14 11:22:00')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:22:00', '2018-01-14 11:22:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:22:00', '2018-01-14 11:22:00', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:22:00', '2018-01-14 11:22:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:22:00', '2018-01-14 11:22:00', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$KvK94wSBmR/4jP8WJsCTZO0TymFjqM7bSz3fynI1AGIevuwlWdUgG', '2018-01-14 11:22:00', '2018-01-14 11:22:00', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:22:00 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 266ms (Views: 257.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:22:00 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:22:00 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 480ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered courses/list.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (11.8ms)
  Rendered courses/new.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (12.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Veg12xcCcDMaQUtlWVx02uX7kGUQ2MgPYr15Rpl41bTEqT1ShDise"], ["created_at", "2018-01-14 11:22:01.053970"], ["updated_at", "2018-01-14 11:22:01.053970"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:22:01 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (13.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:24:17', '2018-01-14 11:24:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:24:17', '2018-01-14 11:24:17', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:24:17', '2018-01-14 11:24:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:24:17', '2018-01-14 11:24:17', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:24:17', '2018-01-14 11:24:17')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:24:17', '2018-01-14 11:24:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:24:17', '2018-01-14 11:24:17', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (9.9ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:24:17', '2018-01-14 11:24:17', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:24:17', '2018-01-14 11:24:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$MJ1d.x0IJCa9e1oulRKu1eSxuj3K9.CFeow4TPebCtUU4FC3g.LdO', '2018-01-14 11:24:18', '2018-01-14 11:24:18', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.1ms)
  Rendered courses/list.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 274ms (Views: 259.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (14.7ms)
  Rendered courses/_form.html.erb (728.3ms)
  Rendered courses/edit.html.erb within layouts/application (729.6ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 744ms (Views: 737.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.8ms)
  Rendered courses/edit.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 10.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.9ms)
  Rendered courses/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:24:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (16.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 24.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (20.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$hjOgysgN7GYuUHkPXA4SgumU4XZ5j0/4qZb.OQlmScZdmqQIrr4ta"], ["created_at", "2018-01-14 11:24:19.426178"], ["updated_at", "2018-01-14 11:24:19.426178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:24:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 23.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:24:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:24:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:24:58', '2018-01-14 11:24:58', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:24:58', '2018-01-14 11:24:58', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:24:58', '2018-01-14 11:24:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:24:58', '2018-01-14 11:24:58', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:24:58', '2018-01-14 11:24:58')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:24:58', '2018-01-14 11:24:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:24:58', '2018-01-14 11:24:58', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:24:58', '2018-01-14 11:24:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:24:58', '2018-01-14 11:24:58', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$En6Bvxt56yFnV7DuB/LquuCgRYJqP3jEFNp2Pu9S41cv3NLq35cr2', '2018-01-14 11:24:58', '2018-01-14 11:24:58', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$zxGZtwmplly56OsSVcsSyuy8ScHc2WeHA8VjEkBNFXuZAt7U5aVQW"], ["created_at", "2018-01-14 11:24:58.445322"], ["updated_at", "2018-01-14 11:24:58.445322"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:24:58 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (7.8ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 317ms (Views: 309.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:24:59 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 159ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:24:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:24:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 21.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.6ms)
  Rendered courses/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.5ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.5ms)
  Rendered courses/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 40ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.9ms)
  Rendered courses/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (10.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:25:26', '2018-01-14 11:25:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:25:26', '2018-01-14 11:25:26', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:25:26', '2018-01-14 11:25:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:25:26', '2018-01-14 11:25:26', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:25:26', '2018-01-14 11:25:26')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:25:26', '2018-01-14 11:25:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:25:26', '2018-01-14 11:25:26', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:25:26', '2018-01-14 11:25:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:25:26', '2018-01-14 11:25:26', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ANkrdVpnPpQ2UvSLcmgAv.qEAWZO3uoYki/H.8gODpipDsFO/ZkdW', '2018-01-14 11:25:26', '2018-01-14 11:25:26', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (9.2ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (412.5ms)
  Rendered courses/edit.html.erb within layouts/application (425.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 749ms (Views: 737.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.0ms)
  Rendered courses/list.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 3.3ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:25:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 15.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:25:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:25:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$T0bu2ShMDP0oHuSauiMmousZKBUZunFfN/HKOIpvEgdAzR5Lkg5oe"], ["created_at", "2018-01-14 11:25:27.437959"], ["updated_at", "2018-01-14 11:25:27.437959"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:25:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:25:53', '2018-01-14 11:25:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:25:53', '2018-01-14 11:25:53', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:25:53', '2018-01-14 11:25:53', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:25:53', '2018-01-14 11:25:53', 298486374)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '456', '2018-01-14 11:25:53', '2018-01-14 11:25:53')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:25:53', '2018-01-14 11:25:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:25:53', '2018-01-14 11:25:53', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:25:53', '2018-01-14 11:25:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:25:53', '2018-01-14 11:25:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$bs8FRFd0dhtWbhWrk2RflO1UphcGlMUTztUEF.kIeja0ih6DpXc8W', '2018-01-14 11:25:53', '2018-01-14 11:25:53', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Qfxk/h9u1xozJ.Pd0qXIL.zGPxN2IwtDyDwrT1Fvn.QLjAJupeKt."], ["created_at", "2018-01-14 11:25:53.947035"], ["updated_at", "2018-01-14 11:25:53.947035"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:25:54 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (12.1ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 386ms (Views: 379.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:25:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:25:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:25:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered courses/list.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 19.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (5.6ms)
  Rendered courses/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 41ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.8ms)
  Rendered courses/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (41.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:27:57', '2018-01-14 11:27:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:27:57', '2018-01-14 11:27:57', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:27:57', '2018-01-14 11:27:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:27:57', '2018-01-14 11:27:57', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:27:57', '2018-01-14 11:27:57')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:27:57', '2018-01-14 11:27:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:27:57', '2018-01-14 11:27:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:27:57', '2018-01-14 11:27:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:27:57', '2018-01-14 11:27:57', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Dw5v.0ZLcRC92CxKoUXFNOYJ4Fx57NHmnKr9Wx8eEbr8n56f2CJi6', '2018-01-14 11:27:57', '2018-01-14 11:27:57', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$dpS3b3m4Rpnjde6ml1vWmeWkJJS9OaVrZaSTIFhvxN0X76gDzWoXm"], ["created_at", "2018-01-14 11:27:58.314391"], ["updated_at", "2018-01-14 11:27:58.314391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered courses/studentlist.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 328ms (Views: 312.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.3ms)
  Rendered courses/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 11:27:58.725342"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 42ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (1.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 14ms (ActiveRecord: 2.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.5ms)
  Rendered courses/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:27:58.824339"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 11:27:58.836337"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:27:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:27:58 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 22.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:27:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:27:58 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:31:40', '2018-01-14 11:31:40', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:31:40', '2018-01-14 11:31:40', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:31:40', '2018-01-14 11:31:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:31:40', '2018-01-14 11:31:40', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:31:40', '2018-01-14 11:31:40')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:31:40', '2018-01-14 11:31:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:31:40', '2018-01-14 11:31:40', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:31:40', '2018-01-14 11:31:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:31:40', '2018-01-14 11:31:40', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.WFC93SxGM/rybp.elAD7u.3ij9/pG6uxXxutrxnZ87qnhETJW0oa', '2018-01-14 11:31:40', '2018-01-14 11:31:40', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$FYaWBnJ12TJ9tczVFLIkBeBgDXdKkVQuX4pA/XrT2J3m4iP4ccDIO"], ["created_at", "2018-01-14 11:31:40.666491"], ["updated_at", "2018-01-14 11:31:40.666491"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.9ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.4ms)
  Rendered courses/edit.html.erb within layouts/application (16.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 355ms (Views: 342.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:31:41.096628"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 11:31:41.102496"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:31:41.108588"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (8.7ms)
  Rendered courses/new.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"一级学科核心课"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:31:41 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:31:41 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:31:41 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:31:41 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (9.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:42:40', '2018-01-14 11:42:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:42:40', '2018-01-14 11:42:40', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:42:40', '2018-01-14 11:42:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:42:40', '2018-01-14 11:42:40', 298486374)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:42:40', '2018-01-14 11:42:40')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:42:40', '2018-01-14 11:42:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:42:40', '2018-01-14 11:42:40', 298486374)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:42:40', '2018-01-14 11:42:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:42:40', '2018-01-14 11:42:40', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$p5HEMKi9ZWfKd1pdQRfVA.ju2iTddNx1RHLxTifkXbki3/j96gdwG', '2018-01-14 11:42:40', '2018-01-14 11:42:40', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:42:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (216.6ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 241ms (Views: 233.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:42:41 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:42:41 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:42:41 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Q1nW43elCpqWk4D.p7ZMZuaZqr2yNEwcGRXXpVrxnqj0PR4Xrjy.u"], ["created_at", "2018-01-14 11:42:41.792073"], ["updated_at", "2018-01-14 11:42:41.792073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.7ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.8ms)
  Rendered courses/studentlist.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered courses/_form.html.erb (20.1ms)
  Rendered courses/new.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 26.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:42:41.883480"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:42:41.891297"], ["id", 2]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (3.4ms)[0m  BEGIN
  [1m[36mFixture Delete (2.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:44:30', '2018-01-14 11:44:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:44:30', '2018-01-14 11:44:30', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:44:30', '2018-01-14 11:44:30', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:44:30', '2018-01-14 11:44:30', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:44:30', '2018-01-14 11:44:30')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:44:30', '2018-01-14 11:44:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:44:30', '2018-01-14 11:44:30', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:44:30', '2018-01-14 11:44:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:44:30', '2018-01-14 11:44:30', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.zSOjEAbvBVHIDXT7zFHsOcSWImHlv03GfQEmETd9oXsZAr9MdcHm', '2018-01-14 11:44:30', '2018-01-14 11:44:30', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:44:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 261ms (Views: 254.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:44:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:44:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:44:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Oo4oAla/tuR6ydS/zH.YkuorwV5FrymcJ6SpnekCVHdBE0ZkTSyr6"], ["created_at", "2018-01-14 11:44:31.741490"], ["updated_at", "2018-01-14 11:44:31.741490"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/new.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 15.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:44:31.818208"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:44:31.823707"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (18.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:48:49', '2018-01-14 11:48:49', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:48:49', '2018-01-14 11:48:49', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:48:49', '2018-01-14 11:48:49', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:48:49', '2018-01-14 11:48:49', 298486374)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:48:49', '2018-01-14 11:48:49')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:48:49', '2018-01-14 11:48:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:48:49', '2018-01-14 11:48:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:48:49', '2018-01-14 11:48:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:48:49', '2018-01-14 11:48:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (11.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$.A6tRaLQIzi8c9DVWfz93O94xGFyESjrYZ.QpHhVgovZChMx2VDTy', '2018-01-14 11:48:49', '2018-01-14 11:48:49', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered courses/_form.html.erb (405.3ms)
  Rendered courses/edit.html.erb within layouts/application (414.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 712ms (Views: 700.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:48:50.114583"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 11:48:50.134728"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:48:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 13.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$jaDtagftAhpravIgSnJbbu2VykGKAH0Vlm.Fk651zzCCFtmoG6TVO"], ["created_at", "2018-01-14 11:48:50.225154"], ["updated_at", "2018-01-14 11:48:50.225154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:48:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 12.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:48:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:48:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:51:05', '2018-01-14 11:51:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:51:05', '2018-01-14 11:51:05', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:51:05', '2018-01-14 11:51:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:51:05', '2018-01-14 11:51:05', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:51:05', '2018-01-14 11:51:05')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:51:05', '2018-01-14 11:51:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:51:05', '2018-01-14 11:51:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:51:05', '2018-01-14 11:51:05', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:51:05', '2018-01-14 11:51:05', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$BEzjTHGyMt4eCzzVtgfzVOyoy1nlnrFvOuG2YZG/T/4.uFMTCI482', '2018-01-14 11:51:05', '2018-01-14 11:51:05', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered courses/_form.html.erb (421.8ms)
  Rendered courses/edit.html.erb within layouts/application (430.9ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 731ms (Views: 719.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:51:06.546241"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.7ms)
  Rendered courses/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 11:51:06.582393"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:51:06 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:51:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:51:06 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (6.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (10.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ZTJUSsItMq6/pZ50OcjvruMWOaFiOtaYxEXUglygSqsSa2NbCUZcK"], ["created_at", "2018-01-14 11:51:06.678703"], ["updated_at", "2018-01-14 11:51:06.678703"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:51:06 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:53:20', '2018-01-14 11:53:20', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:53:20', '2018-01-14 11:53:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:53:20', '2018-01-14 11:53:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:53:20', '2018-01-14 11:53:20', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:53:20', '2018-01-14 11:53:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:53:20', '2018-01-14 11:53:20', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:53:20', '2018-01-14 11:53:20', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:53:20', '2018-01-14 11:53:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:53:20', '2018-01-14 11:53:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$jNuGXR33PpzfRBLcDGJSpOuAdDZ9v/4nTicyp5EtMmBgOvNojaY6a', '2018-01-14 11:53:20', '2018-01-14 11:53:20', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:53:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (238.9ms)
  Rendered layouts/_header.html.erb (8.7ms)
  Rendered layouts/_content.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 302ms (Views: 295.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:53:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 23.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:53:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:53:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$yLDLkvTlXF6FN0hokkpz8e7bQbKLLaE7/33CGZdnx1oC0dxdX2nru"], ["created_at", "2018-01-14 11:53:20.990954"], ["updated_at", "2018-01-14 11:53:20.990954"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.6ms)
  Rendered courses/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 11:53:21.049986"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 11:53:21.058764"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (6.1ms)
  Rendered courses/edit.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:53:49', '2018-01-14 11:53:49', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:53:49', '2018-01-14 11:53:49', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:53:49', '2018-01-14 11:53:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:53:49', '2018-01-14 11:53:49', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:53:49', '2018-01-14 11:53:49')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:53:49', '2018-01-14 11:53:49', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:53:49', '2018-01-14 11:53:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:53:49', '2018-01-14 11:53:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:53:49', '2018-01-14 11:53:49', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$6v66WF.s5pHQXZxeq8fVNekOCFb0itp.HAHBKbRe4.0rj0rr7c4ga', '2018-01-14 11:53:49', '2018-01-14 11:53:49', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (226.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 263ms (Views: 255.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:53:49.570783"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (6.2ms)
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered courses/_form.html.erb (454.5ms)
  Rendered courses/edit.html.erb within layouts/application (462.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 471ms (Views: 470.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 11:53:50.073785"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/P9478eNnzJySb8ccw4VY.GWAberqe9jXzJonhjMTf1dSBr88371q"], ["created_at", "2018-01-14 11:53:50.121992"], ["updated_at", "2018-01-14 11:53:50.121992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:54:09', '2018-01-14 11:54:09', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:54:09', '2018-01-14 11:54:09', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:54:09', '2018-01-14 11:54:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:54:09', '2018-01-14 11:54:09', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:54:09', '2018-01-14 11:54:09')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:54:09', '2018-01-14 11:54:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:54:09', '2018-01-14 11:54:09', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:54:09', '2018-01-14 11:54:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:54:09', '2018-01-14 11:54:09', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Yk4snT3phYRF3IQr7HivYetBz6NOIEwDbmLvhd1eQCrFikW9Yw9xa', '2018-01-14 11:54:09', '2018-01-14 11:54:09', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:54:09 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 256ms (Views: 248.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:54:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:54:09 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/4sa3iRhMXYiECfEfsAAVu3T9tJIrCljnt1JUUnFLQuAnJHRUkaCu"], ["created_at", "2018-01-14 11:54:10.382972"], ["updated_at", "2018-01-14 11:54:10.382972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (6.6ms)
  Rendered courses/new.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 11:54:10.444818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.9ms)
  Rendered courses/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 11:54:10.466444"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:54:10 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:55:02', '2018-01-14 11:55:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 11:55:02', '2018-01-14 11:55:02', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:55:02', '2018-01-14 11:55:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2018-01-14 11:55:02', '2018-01-14 11:55:02', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 11:55:02', '2018-01-14 11:55:02')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:55:02', '2018-01-14 11:55:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 11:55:02', '2018-01-14 11:55:02', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:55:02', '2018-01-14 11:55:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 11:55:02', '2018-01-14 11:55:02', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$8EnJhj9vUh3roez49QrMhezPdSYy9kZ.3zFglq/5dJZs4u24gWTDy', '2018-01-14 11:55:02', '2018-01-14 11:55:02', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$5PeEwUsb9U9Zp0fP9PbGlukK6BeG9m3zBRwH7AEcVbe/3EsinL8Ai"], ["created_at", "2018-01-14 11:55:03.393519"], ["updated_at", "2018-01-14 11:55:03.393519"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 19:55:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 308ms (Views: 301.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 19:55:03 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 19:55:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 11:55:03.789575"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 11:55:03.796588"], ["id", 2]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (6.5ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.1ms)
  Rendered courses/edit.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 3.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.5ms)
  Rendered courses/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 19:55:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:00:34', '2018-01-14 12:00:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:00:34', '2018-01-14 12:00:34', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:00:34', '2018-01-14 12:00:34')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:00:34', '2018-01-14 12:00:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:00:34', '2018-01-14 12:00:34', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:00:34', '2018-01-14 12:00:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:00:34', '2018-01-14 12:00:34', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$R0f0EznAI1lAC4VcwDJUBumHKcqXvGpKy3ikmxDMQQ/7Hww5nRDkW', '2018-01-14 12:00:34', '2018-01-14 12:00:34', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:00:34 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 323ms (Views: 316.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:00:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:00:34 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$cG7FqJfCq3O.T1N/gJJE2.JgnsKEhEBT4OtxOC.6/lD32ZaKyhHue"], ["created_at", "2018-01-14 12:00:34.942094"], ["updated_at", "2018-01-14 12:00:34.942094"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:00:35.506018"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (4.7ms)
  Rendered courses/studentlist.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (5.9ms)
  Rendered courses/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:00:35.553272"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (9.6ms)
  Rendered courses/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:00:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 22.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:00:39', '2018-01-14 12:00:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:00:39', '2018-01-14 12:00:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:00:39', '2018-01-14 12:00:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:00:39', '2018-01-14 12:00:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:00:39', '2018-01-14 12:00:39', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:00:39', '2018-01-14 12:00:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:00:39', '2018-01-14 12:00:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$zWsFK0Ip32xAly79guHGkOvcNcDR/Bgjrwirayv0aoWuXP1QNxscm', '2018-01-14 12:00:39', '2018-01-14 12:00:39', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:00:39.715803"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (408.6ms)
  Rendered courses/new.html.erb within layouts/application (417.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 712ms (Views: 711.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:00:40.441609"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:00:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:00:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:00:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$rjI5a/.cgfFPq.5MhrWM5u336rKQHKQA3jOcHrWMR3FX2KI3l1z5O"], ["created_at", "2018-01-14 12:00:40.548659"], ["updated_at", "2018-01-14 12:00:40.548659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:00:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:01:30', '2018-01-14 12:01:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:01:30', '2018-01-14 12:01:30', 298486374)[0m
  [1m[35mFixture Delete (38.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:01:30', '2018-01-14 12:01:30')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:01:30', '2018-01-14 12:01:30', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:01:30', '2018-01-14 12:01:30', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:01:30', '2018-01-14 12:01:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:01:30', '2018-01-14 12:01:30', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$RJS3pTLA/FuWngBbnWX01uyw6NSRNO6zSdWY20JxUm00LWL6as.0i', '2018-01-14 12:01:30', '2018-01-14 12:01:30', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:01:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (229.0ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 253ms (Views: 245.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wf4mOcRSjSLf/rHZzB6wRe2qVMZwp2awfBmkJYJnAnQAoBGe4Y7lq"], ["created_at", "2018-01-14 12:01:30.949660"], ["updated_at", "2018-01-14 12:01:30.949660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (4.9ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (8.5ms)
  Rendered courses/new.html.erb within layouts/application (17.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 30.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/edit.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:01:31.063768"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 6.4ms | ActiveRecord: 2.4ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:01:31.113061"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:01:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:01:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:01:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:04:24', '2018-01-14 12:04:24', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:04:24', '2018-01-14 12:04:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:04:24', '2018-01-14 12:04:24')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:04:24', '2018-01-14 12:04:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:04:24', '2018-01-14 12:04:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:04:24', '2018-01-14 12:04:24', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:04:24', '2018-01-14 12:04:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$g32JqlZF5r3CKEGczYRYS.TAl4bTIulCRqlQW82yXywgCRRLzv/GK', '2018-01-14 12:04:24', '2018-01-14 12:04:24', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:04:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (234.9ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 257ms (Views: 250.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Idq0fQPH82iwI8qIX49gY.akzt7gXoeeWW7noJHxPG1oqoO2MmbCS"], ["created_at", "2018-01-14 12:04:24.545686"], ["updated_at", "2018-01-14 12:04:24.545686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:04:25 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:04:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:04:25 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:04:25.115740"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (4.5ms)
  Rendered courses/studentlist.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:04:25.146572"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (6.1ms)
  Rendered courses/new.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (4.2ms)
  Rendered courses/edit.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (2.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:04:50', '2018-01-14 12:04:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:04:50', '2018-01-14 12:04:50', 298486374)[0m
  [1m[35mFixture Delete (2.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:04:50', '2018-01-14 12:04:50')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:04:50', '2018-01-14 12:04:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:04:50', '2018-01-14 12:04:50', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:04:50', '2018-01-14 12:04:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:04:50', '2018-01-14 12:04:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$usJF9pHhrqFJwQAbb/omAedhWIdE1cxPxHwmx3AO4J.98Bta8Qlyi', '2018-01-14 12:04:50', '2018-01-14 12:04:50', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:04:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (223.1ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 246ms (Views: 239.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:04:51.147121"], ["id", 2]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 27ms (ActiveRecord: 1.8ms)
  [1m[35m (1.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.5ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (478.0ms)
  Rendered courses/new.html.erb within layouts/application (482.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 488ms (Views: 487.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.3ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:04:51.688433"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$au8PVM.c9obLOTFdMvJK8O3tsKxHBVUQWuCqYMf1CZrRmx.fTXWzS"], ["created_at", "2018-01-14 12:04:51.735766"], ["updated_at", "2018-01-14 12:04:51.735766"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:04:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (12.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 26.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:04:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:04:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:07:09', '2018-01-14 12:07:09', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:07:09', '2018-01-14 12:07:09', 298486374)[0m
  [1m[35mFixture Delete (42.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:07:09', '2018-01-14 12:07:09')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:07:09', '2018-01-14 12:07:09', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:07:09', '2018-01-14 12:07:09', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:07:09', '2018-01-14 12:07:09', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:07:09', '2018-01-14 12:07:09', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$b4VSqVXSRKHceNbFEXFnleRsLeV6uU07LrT17vUyd0U9EHMsuCFZu', '2018-01-14 12:07:09', '2018-01-14 12:07:09', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (3.2ms)
  Rendered courses/list.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 254.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered courses/_form.html.erb (472.5ms)
  Rendered courses/new.html.erb within layouts/application (473.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 476ms (Views: 475.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:07:10.262753"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:07:10.279147"], ["id", 2]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$iGbjYlGY/gPkIHYTP3cSBOwHOTAVIOGxqMTu.AEWvfiAZtdTqeg4S"], ["created_at", "2018-01-14 12:07:10.314765"], ["updated_at", "2018-01-14 12:07:10.314765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:07:10 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (11.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 22.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:07:10 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:07:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:07:10 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:08:02', '2018-01-14 12:08:02', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:08:02', '2018-01-14 12:08:02', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:08:02', '2018-01-14 12:08:02')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:08:02', '2018-01-14 12:08:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:08:02', '2018-01-14 12:08:02', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:08:02', '2018-01-14 12:08:02', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:08:02', '2018-01-14 12:08:02', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$832OqH.IAW39yG6sk2AlP.DEn1qxTzreKBW9Zx0.AWprU8quYgyVu', '2018-01-14 12:08:02', '2018-01-14 12:08:02', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:08:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (231.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 251.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 19ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:08:03.150188"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.2ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (541.5ms)
  Rendered courses/new.html.erb within layouts/application (545.2ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 553ms (Views: 552.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.6ms)
  Rendered courses/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (54.4ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:08:03.808537"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:08:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:08:03 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:08:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JSccOea8o5nrNWFEy.wBeOnp0u5M7OI3lObSdrcsNCG7V3WzZGJZi"], ["created_at", "2018-01-14 12:08:03.894086"], ["updated_at", "2018-01-14 12:08:03.894086"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:09:19', '2018-01-14 12:09:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:09:19', '2018-01-14 12:09:19', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:09:19', '2018-01-14 12:09:19')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:09:19', '2018-01-14 12:09:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:09:19', '2018-01-14 12:09:19', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:09:19', '2018-01-14 12:09:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:09:19', '2018-01-14 12:09:19', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$QnPQt8fZ7MiIb72smzHoI.IFE.ZileImsRsvgn2j1OmY3BBZSfkZy', '2018-01-14 12:09:19', '2018-01-14 12:09:19', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:09:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (224.7ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 248ms (Views: 241.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$9m7SzXbuIzpwLsgJiflvwOzkuIv9AMhKgNoSlfRUqx/vPDOOE4vGu"], ["created_at", "2018-01-14 12:09:20.610818"], ["updated_at", "2018-01-14 12:09:20.610818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:09:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:09:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:09:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.8ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (18.9ms)
  Rendered courses/edit.html.erb within layouts/application (28.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:09:20.757997"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:09:20.776841"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:09:56', '2018-01-14 12:09:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:09:56', '2018-01-14 12:09:56', 298486374)[0m
  [1m[35mFixture Delete (2.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:09:56', '2018-01-14 12:09:56')[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:09:56', '2018-01-14 12:09:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:09:56', '2018-01-14 12:09:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:09:56', '2018-01-14 12:09:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:09:56', '2018-01-14 12:09:56', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$lYMvwoBoXcEo3.xNUHuJW.Iy7nOsNexqDWBB4OA13WemEjuy.pe3S', '2018-01-14 12:09:56', '2018-01-14 12:09:56', 751813785)[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ZCpHqgaiqN7Ln1CzeF04q.sfuN9pfUOMzOHA.NBJ3aVlha/CEtWHe"], ["created_at", "2018-01-14 12:09:57.177945"], ["updated_at", "2018-01-14 12:09:57.177945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:09:57 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (292.5ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 322ms (Views: 310.5ms | ActiveRecord: 0.0ms)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (10.7ms)
  Rendered courses/edit.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 19.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:09:57.601530"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:09:57.609784"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (1.6ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:09:57 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:09:57 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:09:57 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:10:38', '2018-01-14 12:10:38', 980190962)
  [1m[36mFixture Insert (1.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:10:38', '2018-01-14 12:10:38', 298486374)[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:10:38', '2018-01-14 12:10:38')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:10:38', '2018-01-14 12:10:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:10:38', '2018-01-14 12:10:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:10:38', '2018-01-14 12:10:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:10:38', '2018-01-14 12:10:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$OsOZKl4tSXsFXf1ujQy86OZ8gpJeW49spSAv1u0iS5QenuSFIZ0tu', '2018-01-14 12:10:38', '2018-01-14 12:10:38', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:10:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (231.4ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 247.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:10:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:10:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:10:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered courses/_form.html.erb (472.8ms)
  Rendered courses/new.html.erb within layouts/application (476.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 491ms (Views: 482.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:10:39.475336"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:10:39.498995"], ["id", 2]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (2.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 3.3ms | ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (8.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$GKobgmV/Vv/8GHQowX3VBOnXOfEfJ8t4brVmBZlInUndy2Syj.YG."], ["created_at", "2018-01-14 12:10:39.555099"], ["updated_at", "2018-01-14 12:10:39.555099"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:11:14', '2018-01-14 12:11:14', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:11:14', '2018-01-14 12:11:14', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:11:14', '2018-01-14 12:11:14')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:11:14', '2018-01-14 12:11:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:11:14', '2018-01-14 12:11:14', 298486374)
  [1m[36mFixture Delete (2.7ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:11:14', '2018-01-14 12:11:14', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:11:14', '2018-01-14 12:11:14', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$9dzkVLC99Njxf3f2Y5Ggb.YgqPquSMJqN47ihFO.kVzL/clO/PO82', '2018-01-14 12:11:14', '2018-01-14 12:11:14', 751813785)[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (6.1ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (423.4ms)
  Rendered courses/edit.html.erb within layouts/application (435.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 748ms (Views: 733.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:11:15.362202"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.6ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:11:15.420582"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:11:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$lfPiKAhqR8YLA5SBoyRVlOoMEscAMk8CjcdvVa5wOwI5xY9FsiE7a"], ["created_at", "2018-01-14 12:11:15.498059"], ["updated_at", "2018-01-14 12:11:15.498059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:11:15 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:11:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:11:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:11:53', '2018-01-14 12:11:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:11:53', '2018-01-14 12:11:53', 298486374)[0m
  [1m[35mFixture Delete (58.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:11:53', '2018-01-14 12:11:53')[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:11:53', '2018-01-14 12:11:53', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:11:53', '2018-01-14 12:11:53', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:11:53', '2018-01-14 12:11:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:11:53', '2018-01-14 12:11:53', 298486374)[0m
  [1m[35mFixture Delete (1.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$sygVUXEFrC37V1.xr0M3Fuh0oNV7Z/CXPwZawm7WBU9Wa4FbGduDO', '2018-01-14 12:11:53', '2018-01-14 12:11:53', 751813785)[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 260ms (Views: 254.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:11:53.984112"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (473.1ms)
  Rendered courses/edit.html.erb within layouts/application (474.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 477ms (Views: 476.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:11:54.507020"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$nt.tdVpk7w1Mcj6J1hOz2uHzP.1QxWZvELHA9iOJa8DIqy5kdnGAm"], ["created_at", "2018-01-14 12:11:54.543088"], ["updated_at", "2018-01-14 12:11:54.543088"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:11:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:11:54 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:11:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:11:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:12:48', '2018-01-14 12:12:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:12:48', '2018-01-14 12:12:48', 298486374)[0m
  [1m[35mFixture Delete (35.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:12:48', '2018-01-14 12:12:48')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:12:48', '2018-01-14 12:12:48', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:12:48', '2018-01-14 12:12:48', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:12:48', '2018-01-14 12:12:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:12:48', '2018-01-14 12:12:48', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$HjIGHwlaPv.NiX44z0QDK.gU.Dhbc5Mqi1ZO09AzIve8iufhbYxSC', '2018-01-14 12:12:48', '2018-01-14 12:12:48', 751813785)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:12:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (241.6ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 265ms (Views: 258.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Eb4EbHY3ErxoxO3xSgJaVu8lOKDjrXIz.QzqiPauxaoFjJwS.teBS"], ["created_at", "2018-01-14 12:12:49.396778"], ["updated_at", "2018-01-14 12:12:49.396778"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:12:49.442054"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.9ms)
  Rendered courses/list.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered courses/_form.html.erb (14.4ms)
  Rendered courses/edit.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (12.9ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:12:49.516024"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.1ms)
  Rendered courses/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.6ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.9ms)
  Rendered courses/studentlist.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:12:49.567932"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:12:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:12:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:12:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:13:38', '2018-01-14 12:13:38', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:13:38', '2018-01-14 12:13:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:13:38', '2018-01-14 12:13:38')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:13:38', '2018-01-14 12:13:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:13:38', '2018-01-14 12:13:38', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:13:38', '2018-01-14 12:13:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:13:38', '2018-01-14 12:13:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$Ycyjwt61CbhKyybU/1h.Se5bvs44CyUe4epw3yMWxK39mRTt3vc.m', '2018-01-14 12:13:38', '2018-01-14 12:13:38', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 254.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:13:38.975356"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (461.0ms)
  Rendered courses/new.html.erb within layouts/application (462.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 465ms (Views: 464.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:13:39.453375"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"id"=>"2", "course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (3.3ms)
  Rendered courses/_form.html.erb (6.2ms)
  Rendered courses/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:13:39.505958"], ["id", 2]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$RtZLq0IsGpBbPlK8XBFiVel2Ab948X8rsCptqHQRRGLBCYntm6KDG"], ["created_at", "2018-01-14 12:13:39.569049"], ["updated_at", "2018-01-14 12:13:39.569049"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:13:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:13:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:13:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:13:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:15:21', '2018-01-14 12:15:21', 980190962)
  [1m[36mFixture Insert (11.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:15:21', '2018-01-14 12:15:21', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:15:21', '2018-01-14 12:15:21')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:15:21', '2018-01-14 12:15:21', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:15:21', '2018-01-14 12:15:21', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:15:21', '2018-01-14 12:15:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:15:21', '2018-01-14 12:15:21', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$yI.MNWRZj9gmulrdHlPeAuhmK/jpRLgZRaoC.a8eDogmpEoXVuJOm', '2018-01-14 12:15:21', '2018-01-14 12:15:21', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$07xL8im3QrjkcWSBp9f71eIwv4QXrVqqRVX6ChZHw6CCFfHeAItGO"], ["created_at", "2018-01-14 12:15:21.796904"], ["updated_at", "2018-01-14 12:15:21.796904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:15:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 304ms (Views: 297.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:15:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:15:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (4.8ms)
  Rendered courses/studentlist.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 13.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (5.8ms)
  Rendered courses/edit.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:15:22.263889"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (3.2ms)
  Rendered courses/_form.html.erb (6.2ms)
  Rendered courses/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:15:22.290847"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:15:22.302986"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (8.2ms)
  Rendered courses/new.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:15:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:15:38', '2018-01-14 12:15:38', 980190962)
  [1m[36mFixture Insert (1.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:15:38', '2018-01-14 12:15:38', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:15:38', '2018-01-14 12:15:38')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:15:38', '2018-01-14 12:15:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:15:38', '2018-01-14 12:15:38', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:15:38', '2018-01-14 12:15:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:15:38', '2018-01-14 12:15:38', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$gc1LeUx0IfZsjwYwQ9rslelclNGTtiHXyZzgBGfVqM1NEmaaVYt/G', '2018-01-14 12:15:38', '2018-01-14 12:15:38', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:15:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (231.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 247.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:15:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:15:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$VmelrCz15e0VvM4DIokQv.sIg3vBn3A5L6CtEzKtC8.lH1Sz4sEpi"], ["created_at", "2018-01-14 12:15:39.540393"], ["updated_at", "2018-01-14 12:15:39.540393"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 16.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:15:39.612532"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.1ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:15:39.618754"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 14ms (ActiveRecord: 10.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:15:39.633995"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (6.7ms)
  Rendered courses/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (8.3ms)
  Rendered courses/edit.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (7.3ms)
  Rendered courses/new.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:16:45', '2018-01-14 12:16:45', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:16:45', '2018-01-14 12:16:45', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:16:45', '2018-01-14 12:16:45')[0m
  [1m[35mFixture Delete (17.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:16:45', '2018-01-14 12:16:45', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:16:45', '2018-01-14 12:16:45', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:16:45', '2018-01-14 12:16:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:16:45', '2018-01-14 12:16:45', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$ywhiqMvUbDe07H9oP8o4gOCdKmQx9pB6MBQQOu18OctFTvbMbOqAW', '2018-01-14 12:16:45', '2018-01-14 12:16:45', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 272ms (Views: 256.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:16:46.214548"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:16:46.238954"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:16:46.245924"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered courses/_form.html.erb (476.8ms)
  Rendered courses/new.html.erb within layouts/application (478.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 481ms (Views: 480.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (11.7ms)
  Rendered courses/new.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:16:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$F5Vw1DsG1zxNK8DX2js/7OnCm8D66sBx9GZ6HGJ6wOzM1AqCp0pCW"], ["created_at", "2018-01-14 12:16:46.845777"], ["updated_at", "2018-01-14 12:16:46.845777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:16:46 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:16:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:16:46 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mFixture Delete (3.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:17:20', '2018-01-14 12:17:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:17:20', '2018-01-14 12:17:20', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:17:20', '2018-01-14 12:17:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:17:20', '2018-01-14 12:17:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:17:20', '2018-01-14 12:17:20', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:17:20', '2018-01-14 12:17:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:17:20', '2018-01-14 12:17:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$068QqMybyfGaXWshvSJ2Xu6bQmPQ5TvqHtT/SpIfRb3I5/UgwCznG', '2018-01-14 12:17:20', '2018-01-14 12:17:20', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:17:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 257ms (Views: 248.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:17:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:17:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$9qU4Rg3zx4kWMQHRosju6eL1Rvz4HLtCxhwyIzpCCq9Y08kBR34zS"], ["created_at", "2018-01-14 12:17:21.256074"], ["updated_at", "2018-01-14 12:17:21.256074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:17:21 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:17:21.300614"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 21ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.2ms)
  Rendered courses/edit.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:17:21.338860"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:17:21.349236"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 27.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (5.8ms)
  Rendered courses/new.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 9.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.7ms)
  Rendered courses/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (1.1ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.4ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:18:49', '2018-01-14 12:18:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:18:49', '2018-01-14 12:18:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:18:49', '2018-01-14 12:18:49')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:18:49', '2018-01-14 12:18:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:18:49', '2018-01-14 12:18:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:18:49', '2018-01-14 12:18:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:18:49', '2018-01-14 12:18:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$e7lxAZvhTfIzazf8K32qGeF3IvqQ2z8xm6xNkyWDNw8JSvo718HUG', '2018-01-14 12:18:49', '2018-01-14 12:18:49', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.5ms)
  Rendered shared/_error_messages.html.erb (1.6ms)
  Rendered courses/_form.html.erb (422.4ms)
  Rendered courses/edit.html.erb within layouts/application (431.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 733ms (Views: 720.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:18:49.806293"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (4.3ms)
  Rendered courses/_form.html.erb (7.5ms)
  Rendered courses/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:18:49.856292"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:18:49.878323"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:18:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:18:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:18:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$x6jKpxmo72vleLO9K47FdOIZANng4e7PDWpzj18P3IpyqBiYuozai"], ["created_at", "2018-01-14 12:18:50.056936"], ["updated_at", "2018-01-14 12:18:50.056936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:18:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:19:53', '2018-01-14 12:19:53', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:19:53', '2018-01-14 12:19:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:19:53', '2018-01-14 12:19:53')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:19:53', '2018-01-14 12:19:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:19:53', '2018-01-14 12:19:53', 298486374)
  [1m[36mFixture Delete (38.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:19:53', '2018-01-14 12:19:53', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:19:53', '2018-01-14 12:19:53', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$J5fd3NGNTsbTiJij7gQHiu386AtAo2DR9mcd1Vk079zas2uzJkpd6', '2018-01-14 12:19:53', '2018-01-14 12:19:53', 751813785)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:19:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (234.5ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 257ms (Views: 250.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (3.6ms)
  Rendered courses/studentlist.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 15.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (13.6ms)
  Rendered courses/new.html.erb within layouts/application (35.9ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 512ms (Views: 40.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (8.4ms)
  Rendered courses/new.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:19:54.505115"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (19.8ms)
  Rendered courses/edit.html.erb within layouts/application (20.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 23.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:19:54.560653"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered courses/list.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:19:54.583333"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$qtXQ/5kkXP2Ll8j8SpWOc.CcaDfiEHA3V1xFiYScMukGCh4jKDuNi"], ["created_at", "2018-01-14 12:19:54.609512"], ["updated_at", "2018-01-14 12:19:54.609512"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:19:54 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:19:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:19:54 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:20:13', '2018-01-14 12:20:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:20:13', '2018-01-14 12:20:13', 298486374)[0m
  [1m[35mFixture Delete (1.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:20:13', '2018-01-14 12:20:13')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:20:13', '2018-01-14 12:20:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:20:13', '2018-01-14 12:20:13', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:20:13', '2018-01-14 12:20:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:20:13', '2018-01-14 12:20:13', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$OfmXmIV3Uo18a0PCmS2b5OJTqDOEOCFWBkt/cM369fL4ygPDxgFJW', '2018-01-14 12:20:13', '2018-01-14 12:20:13', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:20:13 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 247ms (Views: 240.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:20:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:20:13 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:20:13 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$MlOmVmfRpmErQ2n43ZkeT.A9PcGHbXenNbalHy7KUw.QuVgvtZ1Vm"], ["created_at", "2018-01-14 12:20:13.855760"], ["updated_at", "2018-01-14 12:20:13.855760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (6.3ms)
  Rendered courses/edit.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 15.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (24.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:20:13.969659"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:20:13.976498"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (5.6ms)
  Rendered courses/new.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:20:14.030930"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.9ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:23:58', '2018-01-14 12:23:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:23:58', '2018-01-14 12:23:58', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:23:58', '2018-01-14 12:23:58')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:23:58', '2018-01-14 12:23:58', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:23:58', '2018-01-14 12:23:58', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:23:58', '2018-01-14 12:23:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:23:58', '2018-01-14 12:23:58', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$gsBsAbhXJn3A1TcvNVFM/eeiuSUvp6U3mBHY9vzjJaUWJyZahi8CO', '2018-01-14 12:23:58', '2018-01-14 12:23:58', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$pely0kZIvLO6tlkzwZ/9o.4WYFNoSzFBheR14pS3P4zKlB6u1/v9u"], ["created_at", "2018-01-14 12:23:58.986833"], ["updated_at", "2018-01-14 12:23:58.986833"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:23:59 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 750ms (Views: 734.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:23:59 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:23:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:23:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.9ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered courses/_form.html.erb (13.4ms)
  Rendered courses/new.html.erb within layouts/application (16.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 32ms (Views: 28.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:23:59.998766"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (21.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 3.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:24:00.070100"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:24:00.101744"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 21ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.5ms)
  Rendered courses/list.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (3.6ms)
  Rendered courses/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:24:29', '2018-01-14 12:24:29', 980190962)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:24:29', '2018-01-14 12:24:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:24:29', '2018-01-14 12:24:29')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:24:29', '2018-01-14 12:24:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:24:29', '2018-01-14 12:24:29', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:24:29', '2018-01-14 12:24:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:24:29', '2018-01-14 12:24:29', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$7SJ1UVeqb/T1Jw99XcLUe.AHvBkiFTvqK5iYrIsfuB8mNX40HxByG', '2018-01-14 12:24:29', '2018-01-14 12:24:29', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$nVZjJ9zyANrPaNQC5WXYluUAJsKsBcPw3jIKIac7Q12FjkvArIMeK"], ["created_at", "2018-01-14 12:24:29.603134"], ["updated_at", "2018-01-14 12:24:29.603134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:24:29 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 307ms (Views: 300.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:24:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:24:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:24:29 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered courses/list.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.5ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.5ms)
  Rendered courses/studentlist.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 8.7ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:24:30.064164"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered courses/_form.html.erb (9.6ms)
  Rendered courses/new.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 24ms (Views: 16.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:24:30.097098"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:24:30.115998"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (37.8ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.6ms)
  Rendered courses/edit.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:04', '2018-01-14 12:25:04', 980190962)
  [1m[36mFixture Insert (1.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:04', '2018-01-14 12:25:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:25:04', '2018-01-14 12:25:04')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (41.0ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:04', '2018-01-14 12:25:04', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:04', '2018-01-14 12:25:04', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:04', '2018-01-14 12:25:04', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:04', '2018-01-14 12:25:04', 298486374)[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$X9s2DOupkgpJSmYTBuCg/eitw./TWgxDnubyeGlR9Jtd9Bb1USFfy', '2018-01-14 12:25:04', '2018-01-14 12:25:04', 751813785)[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$RUSFVequzfUY/EcK65/m3.AeTnEpCwQNniLi1jFBJ2utBY7eOLu/S"], ["created_at", "2018-01-14 12:25:04.785733"], ["updated_at", "2018-01-14 12:25:04.785733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:25:05.256687"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (6.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (7.7ms)
  Rendered courses/new.html.erb within layouts/application (18.4ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 351ms (Views: 351.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered courses/_form.html.erb (5.1ms)
  Rendered courses/new.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:25:05.673251"], ["id", 2]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" IS NULL LIMIT 1
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:25:05.724778"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:25:05 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:25:05 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:05 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:05 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (2.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:20', '2018-01-14 12:25:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:20', '2018-01-14 12:25:20', 298486374)[0m
  [1m[35mFixture Delete (1.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:25:20', '2018-01-14 12:25:20')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:20', '2018-01-14 12:25:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:20', '2018-01-14 12:25:20', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:20', '2018-01-14 12:25:20', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:20', '2018-01-14 12:25:20', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$vj2l.ErJvTePIlW0ws0gGuKJ7JEO6ATvr6t3Utf5.6ROKtbIL7s8y', '2018-01-14 12:25:20', '2018-01-14 12:25:20', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (239.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 263ms (Views: 256.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:25:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 17ms (Views: 17.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:25:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$vV11RYA2IyC9Fg7zAF67R.kuP6By/dZ0b4PAM30r.QbZRJSZAFgVO"], ["created_at", "2018-01-14 12:25:20.433034"], ["updated_at", "2018-01-14 12:25:20.433034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (5.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.9ms)
  Rendered courses/list.html.erb within layouts/application (13.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 20.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:25:21.008993"], ["id", 2]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:25:21.030116"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (22.1ms)
  Rendered courses/_form.html.erb (28.4ms)
  Rendered courses/new.html.erb within layouts/application (29.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 32.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:25:21.101648"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (1.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/edit.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (4.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:52', '2018-01-14 12:25:52', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:25:52', '2018-01-14 12:25:52', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:25:52', '2018-01-14 12:25:52')[0m
  [1m[35mFixture Delete (43.6ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:52', '2018-01-14 12:25:52', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:25:52', '2018-01-14 12:25:52', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:52', '2018-01-14 12:25:52', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:25:52', '2018-01-14 12:25:52', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$klHYITFrMXFY6oDy.pdlG.9oql5Nun4qhlLWHkrWnyZE3Mya/xhE6', '2018-01-14 12:25:52', '2018-01-14 12:25:52', 751813785)[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:25:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 256ms (Views: 249.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:25:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.6ms)
  Rendered shared/_error_messages.html.erb (6.1ms)
  Rendered courses/_form.html.erb (472.3ms)
  Rendered courses/edit.html.erb within layouts/application (476.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 492ms (Views: 482.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT "courses".* FROM "courses"
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (6.1ms)
  Rendered courses/_form.html.erb (9.4ms)
  Rendered courses/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:25:53.523105"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:25:53.554698"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:25:53.559679"], ["id", 2]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.8ms)
  Rendered courses/list.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (19.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$tLNg3vQ5uqfmuMMlvokRn.PsQW7VSo6t0QEBcBQQkYEBHD3/IhVS6"], ["created_at", "2018-01-14 12:25:53.634712"], ["updated_at", "2018-01-14 12:25:53.634712"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:25:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:26:15', '2018-01-14 12:26:15', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:26:15', '2018-01-14 12:26:15', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:26:15', '2018-01-14 12:26:15')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:26:15', '2018-01-14 12:26:15', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:26:15', '2018-01-14 12:26:15', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:26:15', '2018-01-14 12:26:15', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:26:15', '2018-01-14 12:26:15', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$TeGilf1t9NGrV0oGbNzgaO8v03q5cXwnW7SBt3QRZVudgAhxgTcrq', '2018-01-14 12:26:15', '2018-01-14 12:26:15', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 298ms (Views: 282.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered courses/_form.html.erb (9.4ms)
  Rendered courses/new.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 494ms (Views: 12.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT "courses".* FROM "courses"
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:26:16.429401"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.8ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:26:16.445136"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:26:16.457046"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (8.8ms)
  Rendered courses/new.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:26:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$HjGgSLy5eU.PvkbS0pO78uvgUbyrzLOfV6aLl9/ymrQqdWU1unr/e"], ["created_at", "2018-01-14 12:26:16.565503"], ["updated_at", "2018-01-14 12:26:16.565503"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:26:16 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:26:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:26:16 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (2.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:29:24', '2018-01-14 12:29:24', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:29:24', '2018-01-14 12:29:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:29:24', '2018-01-14 12:29:24')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:29:24', '2018-01-14 12:29:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:29:24', '2018-01-14 12:29:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (264.7ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:29:24', '2018-01-14 12:29:24', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:29:24', '2018-01-14 12:29:24', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$eMZhjbtJgs3QqYpfsR0cse5iLmJATbbGTD1xrPbZ7G6Xu0ImJVCkq', '2018-01-14 12:29:25', '2018-01-14 12:29:25', 751813785)[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$b.D3xuo8O8H6JzI9JqkOWOCjU.8XScgBxBrS8EtXEkIpQ08xWoAtK"], ["created_at", "2018-01-14 12:29:25.649043"], ["updated_at", "2018-01-14 12:29:25.649043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (6.9ms)
  Rendered courses/studentlist.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 340ms (Views: 314.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:29:26.023661"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:29:26.082802"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 16ms (ActiveRecord: 2.8ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (6.3ms)
  Rendered courses/_form.html.erb (23.1ms)
  Rendered courses/new.html.erb within layouts/application (24.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 35.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (5.1ms)
  Rendered courses/edit.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:29:26.176370"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:29:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:29:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 49.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:29:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:29:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:29:52', '2018-01-14 12:29:52', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:29:52', '2018-01-14 12:29:52', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:29:52', '2018-01-14 12:29:52')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:29:52', '2018-01-14 12:29:52', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:29:52', '2018-01-14 12:29:52', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:29:52', '2018-01-14 12:29:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:29:52', '2018-01-14 12:29:52', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (12.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$n5iNQ7CW7HLmUFKACI.1k.52.0GaEWnMeI75/BYKSslmVuVpGmNxm', '2018-01-14 12:29:52', '2018-01-14 12:29:52', 751813785)[0m
  [1m[35m (4.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered courses/_form.html.erb (418.1ms)
  Rendered courses/edit.html.erb within layouts/application (477.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 797ms (Views: 783.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_totalcredit
----------------------------------------------
Processing by CoursesController#totalcredit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:29:53.673911"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:29:53.696226"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:29:53.701141"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered shared/_error_messages.html.erb (6.5ms)
  Rendered courses/_form.html.erb (10.5ms)
  Rendered courses/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (3.7ms)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:29:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$O.pv4VxNoC0urlb53KR06exraoTZ0XRDdUc0tWb/2Ram3MzBxjQ7G"], ["created_at", "2018-01-14 12:29:53.803700"], ["updated_at", "2018-01-14 12:29:53.803700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:29:53 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 48.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:29:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:29:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:02', '2018-01-14 12:33:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:02', '2018-01-14 12:33:02', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:02', '2018-01-14 12:33:02')[0m
  [1m[35mFixture Delete (269.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:33:02', '2018-01-14 12:33:02', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:33:02', '2018-01-14 12:33:02', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:33:02', '2018-01-14 12:33:02', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:33:02', '2018-01-14 12:33:02', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$r0UUKw26nIJw6uyImRC1nO2eTUMI0lNMe/qz0CWYutMv6mwsIiRzS', '2018-01-14 12:33:02', '2018-01-14 12:33:02', 751813785)[0m
  [1m[35m (0.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.8ms)
  Rendered shared/_error_messages.html.erb (1.7ms)
  Rendered courses/_form.html.erb (439.0ms)
  Rendered courses/edit.html.erb within layouts/application (449.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 764ms (Views: 751.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:33:03.143877"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (10.9ms)
  Rendered courses/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:33:03.188457"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (8.7ms)
  Rendered courses/new.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:33:03.241548"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ftJuVhFjYjPAI0GW9HtVheL5.oRyuNsli7AxYbzAhL1zQUYQwaJ4C"], ["created_at", "2018-01-14 12:33:03.280514"], ["updated_at", "2018-01-14 12:33:03.280514"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:33:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:33:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (41.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 49.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:33:03 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:33:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (1.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (226.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (1.5ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:40', '2018-01-14 12:33:40', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:40', '2018-01-14 12:33:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:40', '2018-01-14 12:33:40')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (2.5ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:33:41', '2018-01-14 12:33:41', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:33:41', '2018-01-14 12:33:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "courses" ("id", "name", "open", "course_time", "created_at", "updated_at") VALUES (2, 'coursename2', 't', '456', '2018-01-14 12:33:41', '2018-01-14 12:33:41')
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (3.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:34:02', '2018-01-14 12:34:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:34:02', '2018-01-14 12:34:02', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:34:02', '2018-01-14 12:34:02')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:34:02', '2018-01-14 12:34:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:34:02', '2018-01-14 12:34:02', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:34:02', '2018-01-14 12:34:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:34:02', '2018-01-14 12:34:02', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$sKOlBTdyiKD8sbbC8IcwfOB6fPd93bP0YUBXyPuwvcnAp7TCfMzRK', '2018-01-14 12:34:02', '2018-01-14 12:34:02', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:34:02 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 261ms (Views: 254.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:34:02 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:34:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (3.6ms)
  Rendered courses/list.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 16.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:34:02.919847"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered courses/_form.html.erb (475.8ms)
  Rendered courses/edit.html.erb within layouts/application (477.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 481ms (Views: 479.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:34:03.423567"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (3.2ms)
  Rendered courses/_form.html.erb (6.3ms)
  Rendered courses/new.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.6ms)
  Rendered courses/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.2ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 4.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:34:03.490666"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:34:03 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$pUIuU.wmh8MBVcuStvqZ6eau/ZvqhBBshLMDj4BrsbhyKMrnNbsm."], ["created_at", "2018-01-14 12:34:03.545164"], ["updated_at", "2018-01-14 12:34:03.545164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:37:01', '2018-01-14 12:37:01', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:37:01', '2018-01-14 12:37:01', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:37:01', '2018-01-14 12:37:01')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:37:01', '2018-01-14 12:37:01', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:37:01', '2018-01-14 12:37:01', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:37:01', '2018-01-14 12:37:01', 980190962)
  [1m[36mFixture Insert (42.8ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:37:01', '2018-01-14 12:37:01', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$DQsxI5D7ZRIJImgMSYjHS.7AJ1E.u8SzV.Ry4KlVNczp6Z5Xlx8Vu', '2018-01-14 12:37:01', '2018-01-14 12:37:01', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:37:01 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (230.6ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 253ms (Views: 246.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$vN9EwwTiBZqKeMO9rZaJ6.8.M5BYI86CeEVYIJSeQOGBlLk9zRsRa"], ["created_at", "2018-01-14 12:37:02.275385"], ["updated_at", "2018-01-14 12:37:02.275385"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered courses/_form.html.erb (9.2ms)
  Rendered courses/new.html.erb within layouts/application (12.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 18.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:37:02.858879"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 24ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:37:02.866708"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:37:02.877448"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.1ms)
  Rendered courses/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.5ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:37:02 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:37:02 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:37:02 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:39:26', '2018-01-14 12:39:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:39:26', '2018-01-14 12:39:26', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:39:26', '2018-01-14 12:39:26')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:39:26', '2018-01-14 12:39:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:39:26', '2018-01-14 12:39:26', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:39:26', '2018-01-14 12:39:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:39:26', '2018-01-14 12:39:26', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$i1Zv/GP./QhWylP7IcWXwu42JA1aZmFw4VASQBnmMrynMRGJ5EVWi', '2018-01-14 12:39:26', '2018-01-14 12:39:26', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:39:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 273ms (Views: 266.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:39:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:39:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered shared/_error_messages.html.erb (4.1ms)
  Rendered courses/_form.html.erb (479.0ms)
  Rendered courses/edit.html.erb within layouts/application (482.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 498ms (Views: 488.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/coursedetails.html.erb within layouts/application (12.4ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (1.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 4.3ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:39:27.870959"], ["id", 2]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:39:27.896013"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 2.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.4ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 4.3ms | ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:39:27.975986"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:39:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JXNNQYIz1azEcxaFNywUhuRdaLZEtW2vV6AvJBRvHpx56QY1wxGiW"], ["created_at", "2018-01-14 12:39:28.026128"], ["updated_at", "2018-01-14 12:39:28.026128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:40:48', '2018-01-14 12:40:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:40:48', '2018-01-14 12:40:48', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:40:48', '2018-01-14 12:40:48')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:40:48', '2018-01-14 12:40:48', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:40:48', '2018-01-14 12:40:48', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:40:48', '2018-01-14 12:40:48', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:40:48', '2018-01-14 12:40:48', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$i1ZP8H2NlN/SBLbFVJ8BR.N1IOz/Gb.kLL4e4.NblgcoycL65jgaa', '2018-01-14 12:40:48', '2018-01-14 12:40:48', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ssPIQ5aNBmz5t9pYWx4dZeqOxRpj1FKigl04.WsiDgcZnQLtALgb6"], ["created_at", "2018-01-14 12:40:48.062719"], ["updated_at", "2018-01-14 12:40:48.062719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.1ms)
  Rendered courses/list.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 353ms (Views: 347.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.5ms)
  Rendered courses/edit.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:40:48.905011"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:40:48.914818"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/new.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:40:48.966170"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (4.2ms)
  Rendered courses/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered courses/coursedetails.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:40:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:40:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:40:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:40:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:41:14', '2018-01-14 12:41:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:41:14', '2018-01-14 12:41:14', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:41:14', '2018-01-14 12:41:14')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:41:14', '2018-01-14 12:41:14', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:41:14', '2018-01-14 12:41:14', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:41:14', '2018-01-14 12:41:14', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:41:14', '2018-01-14 12:41:14', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$1R2Bf5gJynbh.uJrvUa2E.p6LoEeYSuZXWj2admiwcwuLu7PwoZu2', '2018-01-14 12:41:14', '2018-01-14 12:41:14', 751813785)[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:41:14 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 255.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:41:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:41:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:41:15 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:41:15.116867"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (3.0ms)
  Rendered courses/studentlist.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 26ms (Views: 16.0ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.8ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (15.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 19.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.5ms)
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered courses/_form.html.erb (446.9ms)
  Rendered courses/edit.html.erb within layouts/application (453.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 459ms (Views: 456.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:41:15.665513"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:41:15.670349"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (7.8ms)
  Rendered courses/_form.html.erb (11.3ms)
  Rendered courses/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (15.0ms)
  Rendered courses/new.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Sar/8UTRHD1gCPDXx7wBoe27LhSarEieGtKwkR3MD5GlCmj7esKXW"], ["created_at", "2018-01-14 12:41:15.762167"], ["updated_at", "2018-01-14 12:41:15.762167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (18.7ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:42:48', '2018-01-14 12:42:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:42:48', '2018-01-14 12:42:48', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (8.9ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:42:48', '2018-01-14 12:42:48')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:42:48', '2018-01-14 12:42:48', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:42:48', '2018-01-14 12:42:48', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:42:48', '2018-01-14 12:42:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:42:48', '2018-01-14 12:42:48', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$fRG.AwJLuiWM8GXrX0RO.OhFkNNGV4fZ6kUyXhiONz/brgG.wtU7G', '2018-01-14 12:42:48', '2018-01-14 12:42:48', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (22.1ms)
  Rendered shared/_error_messages.html.erb (4.2ms)
  Rendered courses/_form.html.erb (516.0ms)
  Rendered courses/new.html.erb within layouts/application (565.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 1418ms (Views: 1411.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CoursesControllerTest: test_should_student_logged_in
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (26.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 38.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered courses/_form.html.erb (6.2ms)
  Rendered courses/new.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 4.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:42:49.724484"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:42:49.740616"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:42:49.745602"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.5ms)
  Rendered courses/edit.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:42:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Kg3YdU3MVZtJ.V6qT9j5u.Yz6v6N96u32XOYnjk4EYVrlkn9nzpGm"], ["created_at", "2018-01-14 12:42:49.888609"], ["updated_at", "2018-01-14 12:42:49.888609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:42:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:42:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:42:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:45:39', '2018-01-14 12:45:39', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:45:39', '2018-01-14 12:45:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:45:39', '2018-01-14 12:45:39')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:45:39', '2018-01-14 12:45:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:45:39', '2018-01-14 12:45:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:45:39', '2018-01-14 12:45:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:45:39', '2018-01-14 12:45:39', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$SyGYkKO7MSt1vyhoSiRDku9XQhkuqCUTP.GrkMUby/HQxRFE8OqO2', '2018-01-14 12:45:39', '2018-01-14 12:45:39', 751813785)[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.0ms)
  Rendered courses/list.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 270ms (Views: 254.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:45:40.062992"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered courses/_form.html.erb (10.0ms)
  Rendered courses/new.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 501ms (Views: 13.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (6.0ms)
  Rendered courses/edit.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:45:40.628418"], ["id", 2]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CoursesControllerTest: test_should_student_logged_in
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.0ms)
  Rendered courses/list.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:45:40.692158"], ["id", 2]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:45:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 23ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:45:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:45:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:45:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$PQ07TbqdNqxJm5aN8oM6AOd0hJhT0IkdDnfZWLMhHdKSSzrWoIUJa"], ["created_at", "2018-01-14 12:45:40.816373"], ["updated_at", "2018-01-14 12:45:40.816373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (1.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:46:34', '2018-01-14 12:46:34', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:46:34', '2018-01-14 12:46:34', 298486374)[0m
  [1m[35mFixture Delete (54.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:46:34', '2018-01-14 12:46:34')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:46:34', '2018-01-14 12:46:34', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:46:34', '2018-01-14 12:46:34', 298486374)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:46:34', '2018-01-14 12:46:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:46:34', '2018-01-14 12:46:34', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$3jHppgofEhFCS2oJwPG12.qm7q6KYKLpZKD/apXFgsWFGdFbdiQAK', '2018-01-14 12:46:34', '2018-01-14 12:46:34', 751813785)[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$l9YGk3MoHheTZZYSXp8o.evlUel7S/NcASqOlzVYYDIlVbY7S.9wC"], ["created_at", "2018-01-14 12:46:35.017168"], ["updated_at", "2018-01-14 12:46:35.017168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.1ms)
  Rendered courses/list.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 323ms (Views: 308.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", 1], ["updated_at", "2018-01-14 12:46:35.819231"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (18.2ms)
  Rendered courses/new.html.erb within layouts/application (19.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 25.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:46:35.877079"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:46:35.892081"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.0ms)
  Rendered courses/new.html.erb within layouts/application (3.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:46:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 12.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:46:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:46:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:46:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:48:24', '2018-01-14 12:48:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:48:24', '2018-01-14 12:48:24', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:48:24', '2018-01-14 12:48:24')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:48:24', '2018-01-14 12:48:24', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:48:24', '2018-01-14 12:48:24', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:48:24', '2018-01-14 12:48:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:48:24', '2018-01-14 12:48:24', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$iM73zcE/.1FaFVUpREDP0eqgf4GCHZhlsgRZGLncb9tUIKViFemyC', '2018-01-14 12:48:24', '2018-01-14 12:48:24', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:48:24 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 255.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:48:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:48:24 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:48:24.610719"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:48:24.629400"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (3.4ms)
  Rendered courses/studentlist.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered courses/_form.html.erb (452.6ms)
  Rendered courses/new.html.erb within layouts/application (455.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 458ms (Views: 458.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered courses/_form.html.erb (6.8ms)
  Rendered courses/new.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:48:25.209513"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.8ms)
  Rendered courses/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:48:25 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/jJEfRwNejexAGBcS7WDw.wal2lXI6qsap2gZPIqvdIwf2rbYEM2."], ["created_at", "2018-01-14 12:48:25.263397"], ["updated_at", "2018-01-14 12:48:25.263397"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.5ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (1.7ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:48:49', '2018-01-14 12:48:49', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:48:49', '2018-01-14 12:48:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:48:49', '2018-01-14 12:48:49')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:48:49', '2018-01-14 12:48:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:48:49', '2018-01-14 12:48:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:48:49', '2018-01-14 12:48:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:48:49', '2018-01-14 12:48:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$j6.xSyYVUwjzzMH18oIsN./Gc.nUwtk9qaycNi9RPqXWme6tZpx9C', '2018-01-14 12:48:49', '2018-01-14 12:48:49', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (5.6ms)
  Rendered shared/_error_messages.html.erb (1.5ms)
  Rendered courses/_form.html.erb (416.1ms)
  Rendered courses/edit.html.erb within layouts/application (425.4ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 738ms (Views: 725.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:48:50.392498"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered courses/_form.html.erb (6.2ms)
  Rendered courses/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.8ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 6.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (12.6ms)
  Rendered courses/new.html.erb within layouts/application (13.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 20.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:48:50.512943"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:48:50.523990"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$2gUbviW0wMIymMJoUePLHOGv.P6BET5ydhUDCEkm/Ai9g9vQQIvDG"], ["created_at", "2018-01-14 12:48:50.554803"], ["updated_at", "2018-01-14 12:48:50.554803"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:48:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 13.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:48:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:48:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:48:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:49:31', '2018-01-14 12:49:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:49:31', '2018-01-14 12:49:31', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:49:31', '2018-01-14 12:49:31')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:49:31', '2018-01-14 12:49:31', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:49:31', '2018-01-14 12:49:31', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:49:31', '2018-01-14 12:49:31', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:49:31', '2018-01-14 12:49:31', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$rwwG/i1dCeg95S41.mtyaOZaodzBG/.9Yncvb5klp0JLATUJHV38i', '2018-01-14 12:49:31', '2018-01-14 12:49:31', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:49:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (237.0ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 261ms (Views: 253.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$AEy4.ynoHsab471T2bTLy.QevsKFbDCWWu.EuV.q1UbflO9.Gk0fi"], ["created_at", "2018-01-14 12:49:32.217522"], ["updated_at", "2018-01-14 12:49:32.217522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:49:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:49:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:49:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 17ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (20.6ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (6.5ms)
  Rendered courses/edit.html.erb within layouts/application (28.7ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (1.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:49:32.382592"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:49:32.391701"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 3.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:49:32.409036"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered courses/_form.html.erb (7.6ms)
  Rendered courses/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 11.3ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered courses/_form.html.erb (7.3ms)
  Rendered courses/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:50:47', '2018-01-14 12:50:47', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:50:47', '2018-01-14 12:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:50:47', '2018-01-14 12:50:47')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:50:47', '2018-01-14 12:50:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:50:47', '2018-01-14 12:50:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:50:47', '2018-01-14 12:50:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:50:47', '2018-01-14 12:50:47', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$5vcF0b4nCS6zcnlpVMlFnupPwpuWgxODAzrAqMkpI4NLLG/chWgVS', '2018-01-14 12:50:47', '2018-01-14 12:50:47', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:50:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 273ms (Views: 266.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:50:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:50:47 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:50:47.738683"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (3.5ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (467.3ms)
  Rendered courses/edit.html.erb within layouts/application (475.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 485ms (Views: 483.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:50:48.236846"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:50:48.283989"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (12.2ms)
  Rendered courses/new.html.erb within layouts/application (12.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:50:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$i.LUvmGWDqlifkHsY0qh9.N2Tjej7k3joa6x/N1/OMzSKzsjExr3a"], ["created_at", "2018-01-14 12:50:48.407821"], ["updated_at", "2018-01-14 12:50:48.407821"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:53:32', '2018-01-14 12:53:32', 980190962)
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:53:32', '2018-01-14 12:53:32', 298486374)[0m
  [1m[35mFixture Delete (38.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:53:32', '2018-01-14 12:53:32')[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:53:32', '2018-01-14 12:53:32', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:53:32', '2018-01-14 12:53:32', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:53:32', '2018-01-14 12:53:32', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:53:32', '2018-01-14 12:53:32', 298486374)[0m
  [1m[35mFixture Delete (1.9ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$5hRKIHjD50fvwYkJhPWB8OeQedVM1psQETE7i3EEFut53iRqtdXne', '2018-01-14 12:53:32', '2018-01-14 12:53:32', 751813785)[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:53:32.648015"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 21ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (6.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 268ms (Views: 262.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:53:32.947779"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (506.8ms)
  Rendered courses/edit.html.erb within layouts/application (508.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 513ms (Views: 510.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (5.5ms)
  Rendered courses/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/zkZ3TK1GYXdF/kMDto3BOkw48mDKIZ1tg6FeyfgA3wCX5LDCtdCm"], ["created_at", "2018-01-14 12:53:33.564869"], ["updated_at", "2018-01-14 12:53:33.564869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:53:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:53:33 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:53:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:53:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:53:49', '2018-01-14 12:53:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:53:49', '2018-01-14 12:53:49', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:53:49', '2018-01-14 12:53:49')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:53:50', '2018-01-14 12:53:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:53:50', '2018-01-14 12:53:50', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:53:50', '2018-01-14 12:53:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:53:50', '2018-01-14 12:53:50', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$niyOJAizzNFcQ8xUCiE87uhlkf4q5nwfwpth3Clt7W0M6ta375ODa', '2018-01-14 12:53:50', '2018-01-14 12:53:50', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:53:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 259ms (Views: 252.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:53:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:53:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (2.4ms)
  Rendered courses/coursedetails.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 19.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:53:50.387591"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:53:50.396699"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.6ms)
  Rendered courses/list.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (453.3ms)
  Rendered courses/edit.html.erb within layouts/application (454.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 458ms (Views: 457.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered courses/_form.html.erb (5.2ms)
  Rendered courses/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (1.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:53:50.974777"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$a/kbu/429Qm1RvEftwyqBOtBkPkyO9FCPi0kASTtqWbOSeAeMHSvy"], ["created_at", "2018-01-14 12:53:51.015683"], ["updated_at", "2018-01-14 12:53:51.015683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:54:50', '2018-01-14 12:54:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:54:50', '2018-01-14 12:54:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:54:50', '2018-01-14 12:54:50')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:54:50', '2018-01-14 12:54:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:54:50', '2018-01-14 12:54:50', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:54:50', '2018-01-14 12:54:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:54:50', '2018-01-14 12:54:50', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$dkgNVmgvRg89f.x9vT0LU.w15LcS79eII2AJGbTwu5APRE.1sHEvW', '2018-01-14 12:54:50', '2018-01-14 12:54:50', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:54:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (278.8ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 304ms (Views: 297.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 16.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:54:50.634279"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:54:50.679329"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered courses/_form.html.erb (9.1ms)
  Rendered courses/new.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 486ms (Views: 12.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/new.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:54:51.215855"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.8ms)
  Rendered courses/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:54:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 24ms (Views: 23.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:54:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:54:51 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$YOcSljKUBREL/hpJJyffQuXVEmygie4JFgvAV.CZMLDxs.q3i.smu"], ["created_at", "2018-01-14 12:54:51.305574"], ["updated_at", "2018-01-14 12:54:51.305574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:55:55', '2018-01-14 12:55:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:55:55', '2018-01-14 12:55:55', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:55:55', '2018-01-14 12:55:55')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:55:55', '2018-01-14 12:55:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:55:55', '2018-01-14 12:55:55', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:55:55', '2018-01-14 12:55:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:55:55', '2018-01-14 12:55:55', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$z0FsV.KA.M6UV0m5j24I4eb3QzobubFsVAA0f9ZjVdIXnvHFityqO', '2018-01-14 12:55:55', '2018-01-14 12:55:55', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:55:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 259ms (Views: 252.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:55:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:55:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:55:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 19ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:55:56.039888"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:55:56.047590"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (6.0ms)
  Rendered courses/list.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.4ms)
  Rendered courses/list.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered courses/_form.html.erb (8.1ms)
  Rendered courses/new.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 465ms (Views: 11.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.9ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:55:56.623966"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.6ms)
  Rendered courses/edit.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.2ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 4.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bula6pg6ZdnhEDd2BRIYa.viF8/aa.Lq7Hb.BuELxDtY0DgH/jYwS"], ["created_at", "2018-01-14 12:55:56.681482"], ["updated_at", "2018-01-14 12:55:56.681482"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (40.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:56:47', '2018-01-14 12:56:47', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:56:47', '2018-01-14 12:56:47', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:56:47', '2018-01-14 12:56:47')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:56:47', '2018-01-14 12:56:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:56:47', '2018-01-14 12:56:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:56:47', '2018-01-14 12:56:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:56:47', '2018-01-14 12:56:47', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$OEqsxQW3JxB/qdyOiV6DNO4E0Wyee3Vp1Mtg0PZlZjp1z85kL0HOO', '2018-01-14 12:56:47', '2018-01-14 12:56:47', 751813785)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:56:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 262ms (Views: 255.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:56:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:56:47 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:56:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$dw9yq9UIHd2WBmPSkbimteQP2DN8lnJB6f.EfBW68Q023ut0qPF/C"], ["created_at", "2018-01-14 12:56:48.513882"], ["updated_at", "2018-01-14 12:56:48.513882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/coursedetails.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered courses/studentlist.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.3ms)
  Rendered courses/list.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered courses/_form.html.erb (10.4ms)
  Rendered courses/new.html.erb within layouts/application (13.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.8ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:56:48.655048"], ["id", 2]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
  [1m[36m (1.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.2ms)
  Rendered courses/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:56:48.683809"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered courses/_form.html.erb (5.6ms)
  Rendered courses/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:56:48.710042"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:57:30', '2018-01-14 12:57:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:57:30', '2018-01-14 12:57:30', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:57:30', '2018-01-14 12:57:30')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:57:30', '2018-01-14 12:57:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:57:30', '2018-01-14 12:57:30', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:57:30', '2018-01-14 12:57:30', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:57:30', '2018-01-14 12:57:30', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$1CQn3s6oPGgDEkY5CY5SJeqzz3a71oOD7.40KzG9LrZMdEYmhH5mC', '2018-01-14 12:57:30', '2018-01-14 12:57:30', 751813785)[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:57:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (233.6ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 258ms (Views: 251.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 12:57:30.512913"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 28ms (ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered courses/list.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["student_num", -1], ["updated_at", "2018-01-14 12:57:30.546101"], ["id", 2]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 10ms (ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.6ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.2ms)
  Rendered courses/studentlist.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (0.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered courses/_form.html.erb (477.7ms)
  Rendered courses/edit.html.erb within layouts/application (479.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 482ms (Views: 481.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (2.7ms)
  Rendered courses/new.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1[0m
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered courses/_form.html.erb (8.4ms)
  Rendered courses/new.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:57:31.140221"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:57:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:57:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:57:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$vt0k9zBlnWZyXEC4bYcVq.b70zz5fBWtDvbFpn/RUEdP7wHeYa.ey"], ["created_at", "2018-01-14 12:57:31.251925"], ["updated_at", "2018-01-14 12:57:31.251925"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (2.3ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:59:42', '2018-01-14 12:59:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 12:59:42', '2018-01-14 12:59:42', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '1', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 12:59:42', '2018-01-14 12:59:42')[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:59:42', '2018-01-14 12:59:42', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 12:59:42', '2018-01-14 12:59:42', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:59:42', '2018-01-14 12:59:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 12:59:42', '2018-01-14 12:59:42', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$u6OL3uIysOF0SPxp3M.D2eHnBa.fPv/es6SrLjcFrJRG3UUdWDxB2', '2018-01-14 12:59:42', '2018-01-14 12:59:42', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 20:59:42 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 254ms (Views: 245.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 20:59:42 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "admin@test.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 20:59:42 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (2.3ms)
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered courses/_form.html.erb (495.1ms)
  Rendered courses/new.html.erb within layouts/application (498.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 512ms (Views: 504.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3[0m  [["open", "f"], ["updated_at", "2018-01-14 12:59:43.390471"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "courses" WHERE "courses"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 12:59:43.413797"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.9ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 12:59:43.431267"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (3.1ms)
  Rendered courses/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.4ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 3.4ms | ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.6ms)
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered courses/_form.html.erb (7.9ms)
  Rendered courses/new.html.erb within layouts/application (24.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$FEF8Pd56tmhqKE.kwN3CNOmy90WS/czbpy19PNCP/21MN31WNzng2"], ["created_at", "2018-01-14 12:59:43.569557"], ["updated_at", "2018-01-14 12:59:43.569557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 20:59:43 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "evaluationitems" DISABLE TRIGGER ALL;ALTER TABLE "evaluations" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "grades" DISABLE TRIGGER USER;ALTER TABLE "schema_migrations" DISABLE TRIGGER USER;ALTER TABLE "courses" DISABLE TRIGGER USER;ALTER TABLE "users" DISABLE TRIGGER USER;ALTER TABLE "notices" DISABLE TRIGGER USER;ALTER TABLE "evaluationitems" DISABLE TRIGGER USER;ALTER TABLE "evaluations" DISABLE TRIGGER USER[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "evaluationitems"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 13:00:16', '2018-01-14 13:00:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "evaluationitems" ("itemcontent", "created_at", "updated_at", "id") VALUES ('MyString', '2018-01-14 13:00:16', '2018-01-14 13:00:16', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "courses" ("id", "name", "open", "course_time", "course_code", "course_type", "teaching_type", "exam_type", "credit", "limit_num", "class_room", "course_week", "created_at", "updated_at") VALUES (2, 'coursename1', 't', '周三(5-7)', '1', '1', '1', '1', '1', 100, '1', '1', '2018-01-14 13:00:16', '2018-01-14 13:00:16')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "notices"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 13:00:16', '2018-01-14 13:00:16', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "notices" ("theme", "content", "publish_time", "course_name", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2018-01-14 13:00:16', '2018-01-14 13:00:16', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "evaluations"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 13:00:16', '2018-01-14 13:00:16', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "evaluations" ("item", "score", "created_at", "updated_at", "id") VALUES (1, 1, '2018-01-14 13:00:16', '2018-01-14 13:00:16', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'admin@test.com', '$2a$04$5D800UrMNllJfAhX4/Mohe82gDUEztbcKIewwjOUCmdVKGJJx3cGa', '2018-01-14 13:00:16', '2018-01-14 13:00:16', 751813785)[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "evaluationitems" ENABLE TRIGGER ALL;ALTER TABLE "evaluations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "grades" ENABLE TRIGGER USER;ALTER TABLE "schema_migrations" ENABLE TRIGGER USER;ALTER TABLE "courses" ENABLE TRIGGER USER;ALTER TABLE "users" ENABLE TRIGGER USER;ALTER TABLE "notices" ENABLE TRIGGER USER;ALTER TABLE "evaluationitems" ENABLE TRIGGER USER;ALTER TABLE "evaluations" ENABLE TRIGGER USER
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (25.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bClZf/lWLG9JkxqSZ.5Squ9i48cKcR5lPafjztAAkXwtbA408OTcS"], ["created_at", "2018-01-14 13:00:16.964213"], ["updated_at", "2018-01-14 13:00:16.964213"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2018-01-14 21:00:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (285.9ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 312ms (Views: 303.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list4
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"status"=>"123"}
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (1.8ms)
  Rendered courses/list.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
CoursesControllerTest: test_should_close_course
-----------------------------------------------
Processing by CoursesController#close as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (1.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "courses" SET "open" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["open", "f"], ["updated_at", "2018-01-14 13:00:17.399669"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CoursesControllerTest: test_should_select
-----------------------------------------
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", 1], ["updated_at", "2018-01-14 13:00:17.407385"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CoursesControllerTest: test_should_coursedetails
------------------------------------------------
Processing by CoursesController#coursedetails as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/coursedetails.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list2
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123", "status"=>"所有"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_open_course
----------------------------------------------
Processing by CoursesController#open as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
CoursesControllerTest: test_should_get_destroy
----------------------------------------------
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "courses" WHERE "courses"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list1
----------------------------------------
Processing by CoursesController#list as HTML
  Parameters: {"search"=>"123"}
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
CoursesControllerTest: test_should_get_new
------------------------------------------
Processing by CoursesController#new as HTML
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered courses/_form.html.erb (7.4ms)
  Rendered courses/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_update
---------------------------------------------
  [1m[35mCourse Load (0.4ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}, "id"=>"2"}
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 2]]
Unpermitted parameters: id, open
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
CoursesControllerTest: test_should_quit
---------------------------------------
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "courses" SET "student_num" = $1, "updated_at" = $2 WHERE "courses"."id" = $3  [["student_num", -1], ["updated_at", "2018-01-14 13:00:17.483792"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/courses
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------------
CoursesControllerTest: test_should_studentlist
----------------------------------------------
Processing by CoursesController#studentlist as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mGrade Load (0.3ms)[0m  [1mSELECT  "grades".* FROM "grades" WHERE "grades"."course_id" = $1 LIMIT 8 OFFSET 0[0m  [["course_id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/studentlist.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CoursesControllerTest: test_should_get_create
---------------------------------------------
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses"  ORDER BY "courses"."id" ASC LIMIT 1
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"id"=>"2", "name"=>"coursename1", "open"=>true}}
Unpermitted parameters: id, open
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered courses/_form.html.erb (6.1ms)
  Rendered courses/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.3ms)
  [1m[36m (1.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CoursesControllerTest: test_should_list3
----------------------------------------
Processing by CoursesController#list as HTML
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."open" = $1 LIMIT 8 OFFSET 0[0m  [["open", "t"]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered courses/list.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_edit
-------------------------------------------
Processing by CoursesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered shared/_sidenav.html.erb (0.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (37.9ms)
  Rendered courses/edit.html.erb within layouts/application (38.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
Started GET "/sessions/login" for 127.0.0.1 at 2018-01-14 21:00:17 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (0.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=admin%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2018-01-14 21:00:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "admin@test.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2018-01-14 21:00:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 751813785]]
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
